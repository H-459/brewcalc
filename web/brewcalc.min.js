!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.brewcalc=e():t.brewcalc=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e),n.d(e,"convert",(function(){return M})),n.d(e,"convertMeasurableValue",(function(){return O})),n.d(e,"calcOriginalGravity",(function(){return A})),n.d(e,"calcFinalGravity",(function(){return L})),n.d(e,"calcBoilGravity",(function(){return J})),n.d(e,"calcColor",(function(){return W})),n.d(e,"srmToCss",(function(){return K})),n.d(e,"srmToRgb",(function(){return H})),n.d(e,"calcABV",(function(){return X})),n.d(e,"bitternessIbuRager",(function(){return R})),n.d(e,"bitternessIbuTinseth",(function(){return k})),n.d(e,"bitternessRatio",(function(){return z})),n.d(e,"calculateRecipeBeerJSON",(function(){return Y})),n.d(e,"calcBoilVolumes",(function(){return T})),n.d(e,"calcMashVolumes",(function(){return G})),n.d(e,"calcMashGrainWeight",(function(){return U})),n.d(e,"recalculateMashSteps",(function(){return E})),n.d(e,"calcCalories",(function(){return y})),n.d(e,"carbonation",(function(){return h})),n.d(e,"yeastCount",(function(){return d})),n.d(e,"yeastNeeded",(function(){return p})),n.d(e,"yeastStarterGrow",(function(){return b}));const r=t=>(t=>t/.0295735)(t)/128,a=t=>1.8*t+32,o=t=>1111.14*t-616.868-630.272*Math.pow(t,2)+135.997*Math.pow(t,3),u=t=>t.reduce((t,e)=>t+e,0),i=t=>!!Array.isArray(t)&&t.length>0;function l(t,e=0){return"number"==typeof t?Number(t.toFixed(e)):null}const s=(t,e)=>({unit:t.unit,value:l(t.value,e)}),c="Liquid",m="Dry",f="Slant",p=(t,e,n)=>t*(1e3*e)*n/1e3,d=({amount:t,form:e,cultureDate:n},r=(new Date).toString(),a=8,o=1)=>{switch(e){case m:return a*t*1e3;case c:return((t,e=(new Date).toString())=>100-.7*Math.floor((Date.parse(t)-Date.parse(e))/864e5))(r,n)/100*100*t;case f:return o*t*1e3;default:throw new Error("NotImplementedError")}},v=t=>2.33-.67*t,b=(t,e,n,a)=>{const u=r(e),i=1e3*(u*(n-1)*1e3/42/2.204);const l=(s=t/i)<1.4?1.4:s>=1.4&&s<=3.5&&v(s)>0?v(s):0;var s;const c=i*l+t;return{growthRate:l,endingCount:c,pitchRate:1e3*c/o(n)/(a/1e3)}},g=(t,e)=>Math.max(0,-16.6999-.0101059*e+.00116512*e*e+.173354*e*t+4.24267*t-.0684226*t*t),_=t=>Math.max(32,a(t)),h=(t,e,n)=>{const a=((t,e,n)=>15.195*n*(t-3.0378+.050062*e-26555e-8*e*e))(t,_(e),r(n));return{kegPressure:g(t,_(e)),kegSugar:.5*a,cornSugar:a,dme:1.538*a}},y=(t,e)=>((t,e)=>1881.22*e*((t-e)/(1.775-t)))(t,e)+((t,e)=>3550*e*(.1808*t+.8192*e-1.0004))(t,e);var w={mass:{metric:{toBase:t=>t,fromBase:t=>t,units:{mg:{ratio:.001},g:{ratio:1},kg:{ratio:1e3}}},us:{toBase:t=>453.592*t,fromBase:t=>t/453.592,units:{lb:{ratio:1},oz:{ratio:1/16}}}},volume:{metric:{toBase:t=>t,fromBase:t=>t,units:{l:{ratio:1},ml:{ratio:.001}}},imperial:{toBase:t=>1.136523*t,fromBase:t=>t/1.136523,units:{ifloz:{ratio:1/40},ipt:{ratio:.5},iqt:{ratio:1},igal:{ratio:4},ibbl:{ratio:144}}},us:{toBase:t=>.946353*t,fromBase:t=>t/.946353,units:{tsp:{ratio:1/192},tbsp:{ratio:1/64},floz:{ratio:1/32},cup:{ratio:1/4},pt:{ratio:.5},qt:{ratio:1},gal:{ratio:4},bbl:{ratio:124}}}},color:{lovibond:{toBase:t=>1.3546*t-.76,fromBase:t=>(t+.76)/1.3546,units:{Lovi:{ratio:1}}},ebc:{toBase:t=>.508*t,fromBase:t=>1.97*t,units:{EBC:{ratio:1}}},srm:{toBase:t=>t,fromBase:t=>t,units:{SRM:{ratio:1},srm:{ratio:1}}}},gravity:{sg:{toBase:t=>t,fromBase:t=>t,units:{sg:{ratio:1,precision:4}}},plato:{toBase:t=>1+t/(258.6-t/258.2*227.1),fromBase:o,units:{plato:{ratio:1}}},brix:{toBase:t=>t/(258.6-t/258.2*227.1)+1,fromBase:t=>1262.7749*t-669.5622-775.6821*Math.pow(t,2)+182.4601*Math.pow(t,3),units:{brix:{ratio:1}}}},temperature:{celsius:{toBase:t=>t,fromBase:t=>t,units:{C:{ratio:1,precision:0}}},fahrenheit:{toBase:t=>(t-32)/1.8,fromBase:a,units:{F:{ratio:1,precision:0}}}},time:{time:{toBase:t=>t,fromBase:t=>t,units:{sec:{ratio:1/60},min:{ratio:1},hr:{ratio:60},day:{ratio:1440},week:{ratio:10080},month:{ratio:43200},year:{ratio:525600}}}},pressure:{pressure:{toBase:t=>t,fromBase:t=>t,units:{kPa:{ratio:1},atm:{ratio:101.325},bar:{ratio:100},psi:{ratio:6.894757}}}}};const B=(t,e)=>+t.toFixed(e),M=(t,e,n,r)=>{if(null==t)throw new Error("Unable to convert null or undefined!");let a=null,o=null;for(const t in w){const r=w[t];for(const t in r){const u=r[t];u.units.hasOwnProperty(e)&&(a={unit:u.units[e],system:u}),u.units.hasOwnProperty(n)&&(o={unit:u.units[n],system:u})}if(null!=a&&null==o)throw new Error(`Unable to convert [${t}] unit [${e}] to [${n}]!`);if(null==a&&null!=o)throw new Error(`Unable to convert [${e}] to [${t}] unit [${n}]!`);if(null!=a&&null!=o)break}if(null==a)throw new Error(`Unit not found [${e}]!`);if(null==o)throw new Error(`Unit not found [${n}]!`);const u=null!=o.unit.precision?o.unit.precision:2,i=null!=r?r:u;if(e===n)return B(t,i);let l=t*a.unit.ratio;return a.system!==o.system&&(l=o.system.fromBase(a.system.toBase(l))),l/=o.unit.ratio,B(l,i)},O=(t,e,n=4)=>M(t.value,t.unit,e,n),j=(t={})=>({add_to_boil:"add_to_boil"===t.use,add_to_mash:!t.use||"add_to_mash"===t.use}),x=(t={})=>"add_to_boil"===t.use?t.time.value:0,S=(t,e)=>t*e,P=(t="")=>"pellet"===t?1.1:1,$=(t="",e,n=0)=>P(t)*(t=>1.65*Math.pow(125e-6,t-1))(e)*(t=>(1-Math.exp(-.04*t))/4.15)(n),k=(t,e,n)=>({value:u(t.map(({amount:t,alpha_acid:r,form:a,timing:o})=>{if(!j(o).add_to_boil)return 0;const u=S(O(t,"oz"),r.value);return $(a,O(e,"sg"),x(o))*u*74.89/O(n,"gal")})),unit:"IBUs"}),z=(t,e)=>t/e,C=(t,e,n)=>{if(!j(t.timing).add_to_boil)return 0;var r;return(r=Math.floor(x(t.timing)+.5),(18.11+13.86*Math.tanh((r-31.32)/18.27))*P(t.form)/100)*S(t.amount.value,t.alpha_acid.value)*74.89/n.value/(1+((a=e.value)<=1.05?0:(a-1.05)/.2));var a},R=(t,e,n)=>({value:u(t.map(t=>C(t,e,n))),unit:"IBUs"});function E(t,e,n){let r=0,a=e.value;const o=O(n,"kg");return t.map((t,e)=>{const n=(u=t.step_temperature,function(t){return null!=t&&"object"==typeof t}(i=u)&&i.hasOwnProperty("value")&&i.hasOwnProperty("unit")?u.value:null);var u,i;switch(t.type){case"decoction":{const{amount:e}=((t,e,n,r,a=0,o=0,u=0)=>{const i=.652*r+n;let l=(.38*r+o*((t,e,n)=>(t*=.8)>0&&e<t?n*e/t:n)(u,i,a)+n)/(.38*r+n)*(e-t)/(100-t);return l>1&&(l=1),{amount:{value:i*l,unit:"l"}}})(a,n,r,o);return Object.assign(Object.assign({},t),{amount:e})}case"infusion":{const{amount:u,infuse_temperature:i}=((t,e,n,r,a)=>{const o=r>0?100:.38*(e-t)/2.5+e;return{infuse_temperature:{unit:"C",value:o},amount:{unit:"l",value:(.38*a+n)*(e-t)/(o-e)}}})(a,n,r,e,o);return r+=u.value,a=n,Object.assign(Object.assign({},t),{infuse_temperature:i,amount:u})}default:return t}})}const U=t=>({value:u(t.map(({timing:t,type:e,amount:n})=>"grain"===e&&j(t).add_to_mash?O(n,"lb"):0)),unit:"lb"});const D={pre_boil_size:{value:0,unit:"gal"},boil_time:{value:0,unit:"min"}},I=t=>O(t,"gal"),G=(t,e,n,r)=>{const a=((t=[])=>({value:u(t.map(({type:t,amount:e})=>"infusion"===t?I(e):0)),unit:"gal"}))(e),o={value:.12*O(n,"lb"),unit:"gal"};const i=null!=r.mash_tun?I(r.mash_tun.loss):0,l={value:I(t)+o.value-a.value+i,unit:"gal"};return{mash_volume:a,sparge_volume:l,total_volume:{value:a.value+l.value,unit:"gal"}}},T=(t,e=D,n)=>{const r=e||D,a=I(t);let o=0,u=0;null!=n&&null!=n.brew_kettle&&(o=I(n.brew_kettle.loss),u=I(n.brew_kettle.boil_rate_per_hour));return{pre_boil_size:{value:a+u*r.boil_time.value/60+o+.04*a,unit:"gal"}}},q=t=>({value:.01*t.value*46/1e3+1,unit:"sg"}),F=(t,e={value:100,unit:"%"},n={value:0,unit:"%"})=>{const r=O(t.amount,"lb");var a;return(O(null!=(a=t.yield).potential?a.potential:null!=a.fine_grind?q(a.fine_grind):null!=a.coarse_grind?q(a.coarse_grind):{value:0,unit:"sg"},"sg")-1)*r*((1-n.value/100)*((t,e,n=1)=>"extract"===t||"sugar"===t||"dry extract"===t?n:e)(t.type,e.value/100))},N=(t,e,n)=>u(t.map(t=>F(t,e.brewhouse,n))),V=(t,e)=>1+e/O(t,"gal"),A=(t,e,n)=>({unit:"sg",value:V(t,N(e,n))}),L=(t,e,n,r)=>({unit:"sg",value:V(t,N(e,n,r[0].attenuation))}),J=(t,e,n)=>{return{unit:"sg",value:(r=O(t,"gal"),a=O(e,"gal"),o=O(n,"sg"),1+(o-1)*r/a)};var r,a,o},W=(t,e)=>{const n=t.map(t=>{return e=O(t.amount,"lb"),(n=O(t.color,"Lovi"))>.56?e*n:0;var e,n});var r;return{unit:"SRM",value:(r=u(n)/O(e,"gal"),1.4922*Math.pow(r,.6859))}},H=t=>({r:Math.round(Math.min(255,Math.max(0,255*Math.pow(.975,t)))),g:Math.round(Math.min(255,Math.max(0,255*Math.pow(.88,t)))),b:Math.round(Math.min(255,Math.max(0,255*Math.pow(.7,t))))}),K=t=>{const e=H(t);return`rgb(${e.r}, ${e.g}, ${e.b})`},Q=(t,e)=>{const n=o(t);return(n-(.1808*n+.8192*o(e)))/(2.0665-.010665*n)*(e/.79661)},X=(t,e)=>({value:Q(O(t,"sg"),O(e,"sg")),unit:"%"}),Y=(t,e,n)=>{const{batch_size:r,boil:a,efficiency:o,ingredients:u}=t,{fermentable_additions:l,hop_additions:c,culture_additions:m}=u;let f={unit:"sg",value:null},p={unit:"sg",value:null},d={unit:"SRM",value:null},v={unit:"IBUs",value:null},b={unit:"%",value:null},g=null,_=null,h=null;if(i(l)){f=A(r,l,o);const t={name:"Default Culture",type:"ale",form:"liquid",attenuation:{value:75,unit:"%"}};p=L(r,l,o,i(m)?m:[t]),b=X(f,p);const{pre_boil_size:u}=T(r,a,n);if(g={pre_boil_size:u},e){const t=U(l),r=E(e.mash_steps,e.grain_temperature,t),{sparge_volume:a,mash_volume:o,total_volume:i}=G(u,r,t,n);g=Object.assign(Object.assign({},g),{sparge_volume:a,mash_volume:o,total_volume:i}),_=Object.assign(Object.assign({},e),{mash_steps:(y=r,w=a,y.map(t=>"sparge"===t.type?Object.assign(Object.assign({},t),{amount:w}):t))})}if(a&&(h=Object.assign(Object.assign({},a),{pre_boil_size:u})),d=W(l,r),i(c)){const t=J(r,u,f);v=k(c,t,r)}}var y,w;return{stats:{original_gravity:s(f,3),final_gravity:s(p,3),alcohol_by_volume:s(b,1),ibu_estimate:s(v,1),color_estimate:s(d,1)},volumes:g,mash:_,boil:h}}}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icmV3Y2FsYy93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vYnJld2NhbGMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYnJld2NhbGMvLi9zcmMvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vYnJld2NhbGMvLi9zcmMvdHlwZXMveWVhc3QudHMiLCJ3ZWJwYWNrOi8vYnJld2NhbGMvLi9zcmMvY3VsdHVyZS50cyIsIndlYnBhY2s6Ly9icmV3Y2FsYy8uL3NyYy9jYXJib25hdGlvbi50cyIsIndlYnBhY2s6Ly9icmV3Y2FsYy8uL3NyYy9jb252ZXJ0ZXIvZGVmaW5pdGlvbnMudHMiLCJ3ZWJwYWNrOi8vYnJld2NhbGMvLi9zcmMvY29udmVydGVyL2NvbnZlcnRlci50cyIsIndlYnBhY2s6Ly9icmV3Y2FsYy8uL3NyYy91bml0cy50cyIsIndlYnBhY2s6Ly9icmV3Y2FsYy8uL3NyYy90aW1pbmcudHMiLCJ3ZWJwYWNrOi8vYnJld2NhbGMvLi9zcmMvaG9wcy50cyIsIndlYnBhY2s6Ly9icmV3Y2FsYy8uL3NyYy9tYXNoLnRzIiwid2VicGFjazovL2JyZXdjYWxjLy4vc3JjL3ZvbHVtZXMudHMiLCJ3ZWJwYWNrOi8vYnJld2NhbGMvLi9zcmMvZ3Jhdml0eS50cyIsIndlYnBhY2s6Ly9icmV3Y2FsYy8uL3NyYy9jb2xvci50cyIsIndlYnBhY2s6Ly9icmV3Y2FsYy8uL3NyYy9hYnYudHMiLCJ3ZWJwYWNrOi8vYnJld2NhbGMvLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwid2luZG93IiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImxpdGVyc1RvR2FsbG9ucyIsImxpdGVyc1RvT3VuY2VzIiwiY2Vsc2l1c1RvRmFocmVuaGVpdCIsInNnVG9QbGF0byIsInNnIiwiTWF0aCIsInBvdyIsInN1bSIsImFycmF5IiwicmVkdWNlIiwicHYiLCJjdiIsImlzTm90RW1wdHlBcnJheSIsImFyciIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsInJvdW5kIiwibnVtYmVyIiwicHJlY2lzaW9uIiwiTnVtYmVyIiwidG9GaXhlZCIsInJvdW5kTWVhc3VyYWJsZSIsInVuaXQiLCJZZWFzdEZvcm1zIiwieWVhc3ROZWVkZWQiLCJwaXRjaFJhdGUiLCJiYXRjaFNpemUiLCJlIiwieWVhc3RDb3VudCIsImFtb3VudCIsImZvcm0iLCJjdWx0dXJlRGF0ZSIsImN1cnJlbnREYXRlIiwiRGF0ZSIsInRvU3RyaW5nIiwiY2VsbERlbnNpdHkiLCJzbHVycnlEZW5zaXR5IiwiZmxvb3IiLCJwYXJzZSIsInZpYWJpbGl0eSIsIkVycm9yIiwieWVhc3RHcm93dGgiLCJyYXRpbyIsInllYXN0U3RhcnRlckdyb3ciLCJzdGFydGluZ1llYXN0Q291bnQiLCJzdGFydGVyU2l6ZSIsImdyYXZpdHkiLCJ2b2x1bWVMZXZlbCIsImdyYW1zRE1FIiwiZ3Jvd3RoUmF0ZSIsImVuZGluZ0NvdW50Iiwia2VnUHJlc3N1cmUiLCJjYXJiVm9sdW1lIiwibWF4Iiwibm9ybWFsaXplVGVtcCIsImNhcmJvbmF0aW9uIiwic3VnYXIiLCJwcmltaW5nU3VnYXIiLCJrZWdTdWdhciIsImNvcm5TdWdhciIsImRtZSIsImNhbGNDYWxvcmllcyIsIm9nIiwiZmciLCJjYWxvcmllc0FsYyIsImNhbG9yaWVzRXh0IiwibWFzcyIsIm1ldHJpYyIsInRvQmFzZSIsInYiLCJmcm9tQmFzZSIsInVuaXRzIiwibWciLCJnIiwia2ciLCJ1cyIsImxiIiwib3oiLCJ2b2x1bWUiLCJtbCIsImltcGVyaWFsIiwiaWZsb3oiLCJpcHQiLCJpcXQiLCJpZ2FsIiwiaWJibCIsInRzcCIsInRic3AiLCJmbG96IiwiY3VwIiwicHQiLCJxdCIsImdhbCIsImJibCIsImNvbG9yIiwibG92aWJvbmQiLCJzcm0iLCJMb3ZpIiwiZWJjIiwiRUJDIiwiU1JNIiwicGxhdG8iLCJicml4IiwidGVtcGVyYXR1cmUiLCJjZWxzaXVzIiwiQyIsImZhaHJlbmhlaXQiLCJmIiwiRiIsInRpbWUiLCJzZWMiLCJtaW4iLCJociIsImRheSIsIndlZWsiLCJtb250aCIsInllYXIiLCJwcmVzc3VyZSIsImtQYSIsImF0bSIsImJhciIsInBzaSIsInJvdW5kVmFsdWUiLCJjb252ZXJ0IiwiZnJvbSIsInRvIiwib3JpZ2luIiwiZGVzdGluYXRpb24iLCJtZWFzdXJhYmxlVHlwZUtleSIsImRlZmluaXRpb25zIiwibWVhc3VyYWJsZVR5cGUiLCJzeXN0ZW1LZXkiLCJzeXN0ZW0iLCJ1bml0UHJlY2lzaW9uIiwiYWN0dWFsUHJlY2lzaW9uIiwicmVzdWx0IiwiY29udmVydE1lYXN1cmFibGVWYWx1ZSIsIm1lYXN1cmFibGUiLCJ1c2UiLCJ0aW1pbmciLCJhZGRfdG9fYm9pbCIsImFkZF90b19tYXNoIiwiYm9pbFRpbWUiLCJhbHBoYUFjaWRVbml0cyIsImFtb3VudEluT3oiLCJhbHBoYUFjaWQiLCJwZWxsZXRGYWN0b3IiLCJpYnVVdGlsaXphdGlvbiIsImhvcEZvcm0iLCJib2lsR3Jhdml0eVZhbHVlIiwiYm9pbFRpbWVJbk1pbiIsImdyYXZpdHlGYWN0b3IiLCJleHAiLCJ0aW1lRmFjdG9yIiwiYml0dGVybmVzc0lidVRpbnNldGgiLCJob3BzIiwiYm9pbEdyYXZpdHkiLCJwb3N0Qm9pbFZvbHVtZSIsIm1hcCIsImFscGhhX2FjaWQiLCJBQVUiLCJiaXR0ZXJuZXNzUmF0aW8iLCJpYnUiLCJndSIsInJhZ2VySG9wSWJ1IiwiaG9wIiwidGFuaCIsInNnYiIsImJpdHRlcm5lc3NJYnVSYWdlciIsInJlY2FsY3VsYXRlTWFzaFN0ZXBzIiwibWFzaF9zdGVwcyIsImdyYWluX3RlbXBlcmF0dXJlIiwibWFzaEdyYWluV2VpZ2h0Iiwic3RhcnRWb2x1bWUiLCJzdGFydFRlbXAiLCJncmFpbldlaWdodFZhbHVlIiwic3RlcCIsImluZGV4Iiwic3RlcFRlbXAiLCJzdGVwX3RlbXBlcmF0dXJlIiwiaXNPYmplY3QiLCJ0eXBlIiwidGFyZ2V0VGVtcCIsInR1bk1hc3MiLCJ0dW5TcGVjaWZpY0hlYXQiLCJ0dW5Wb2x1bWUiLCJ0b3RWb2x1bWUiLCJmcmFjdGlvbiIsImFkanVzdFR1bk1hc3MiLCJjYWxjRGVjb2N0aW9uU3RlcCIsImluZnVzZV90ZW1wZXJhdHVyZSIsImluZnVzZVRlbXAiLCJjYWxjSW5mdXNpb25TdGVwIiwiY2FsY01hc2hHcmFpbldlaWdodCIsImZlcm1lbnRhYmxlcyIsImRlZmF1bHRCb2lsIiwicHJlX2JvaWxfc2l6ZSIsImJvaWxfdGltZSIsImNvbnZlcnRUb0dhbGxvbnMiLCJjYWxjTWFzaFZvbHVtZXMiLCJtYXNoU3RlcHMiLCJlcXVpcG1lbnQiLCJtYXNoV2F0ZXJWb2x1bWUiLCJjYWxjTWFzaFdhdGVyVm9sdW1lIiwiZ3JhaW5BYnNvcnB0aW9uIiwibWFzaExvc3MiLCJtYXNoX3R1biIsImxvc3MiLCJzcGFyZ2VWb2x1bWUiLCJtYXNoX3ZvbHVtZSIsInNwYXJnZV92b2x1bWUiLCJ0b3RhbF92b2x1bWUiLCJjYWxjQm9pbFZvbHVtZXMiLCJiYXRjaF9zaXplIiwiYm9pbCIsImJvaWxQcm9maWxlIiwiYm9pbExvc3MiLCJib2lsUmF0ZSIsImJyZXdfa2V0dGxlIiwiYm9pbF9yYXRlX3Blcl9ob3VyIiwieWllbGRUb1BvdGVudGlhbCIsImZlcm1lbnRhYmxlWWllbGQiLCJjYWxjRmVybWVudGFibGVHcmF2aXR5UG9pbnRzIiwiZmVybWVudGFibGUiLCJicmV3aG91c2VFZmZpY2llbmN5IiwiYXR0ZW51YXRpb24iLCJhbW91bnRWYWx1ZSIsInlpZWxkIiwicG90ZW50aWFsIiwiZmluZV9ncmluZCIsImNvYXJzZV9ncmluZCIsImVxdWlwbWVudEVmZmljaWVuY3kiLCJzdWdhckVmZmljaWVuY3kiLCJjYWxjRmVybWVudGFibGVFZmZpY2llbmN5IiwiY2FsY1RvdGFsR3Jhdml0eVBvaW50cyIsImVmZmljaWVuY3kiLCJicmV3aG91c2UiLCJjYWxjR3Jhdml0eSIsImdyYXZpdHlQb2ludHMiLCJjYWxjT3JpZ2luYWxHcmF2aXR5IiwiY2FsY0ZpbmFsR3Jhdml0eSIsImN1bHR1cmVzIiwiY2FsY0JvaWxHcmF2aXR5IiwiYm9pbFNpemUiLCJPRyIsImJhdGNoU2l6ZUluR2FsbG9ucyIsImJvaWxTaXplSW5HYWxsb25zIiwib2dJblNHIiwiY2FsY0NvbG9yIiwiZmVybWVudGFibGVzTUNVIiwibWN1Iiwic3JtVG9SZ2IiLCJiIiwic3JtVG9Dc3MiLCJlc3RBQlZyZWFsRXh0cmFjdCIsIm9lIiwiY2FsY0FCViIsImNhbGN1bGF0ZVJlY2lwZUJlZXJKU09OIiwicmVjaXBlIiwibWFzaCIsImluZ3JlZGllbnRzIiwiZmVybWVudGFibGVfYWRkaXRpb25zIiwiaG9wX2FkZGl0aW9ucyIsImN1bHR1cmVfYWRkaXRpb25zIiwib3JpZ2luYWxfZ3Jhdml0eSIsImZpbmFsX2dyYXZpdHkiLCJhYnYiLCJ2b2x1bWVzIiwiY2FsY3VsYXRlZE1hc2giLCJjYWxjdWxhdGVkQm9pbCIsImRlZmF1bHRDdWx0dXJlQWRkaXRpb24iLCJzdGF0cyIsImFsY29ob2xfYnlfdm9sdW1lIiwiaWJ1X2VzdGltYXRlIiwiY29sb3JfZXN0aW1hdGUiXSwibWFwcGluZ3MiOiJDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxJQUNRLG1CQUFYRyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sR0FB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QU1TLEVBQ050RCxLQUFNdUQiLCJmaWxlIjoiYnJld2NhbGMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiYnJld2NhbGNcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiYnJld2NhbGNcIl0gPSBmYWN0b3J5KCk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImV4cG9ydCBjb25zdCBrZ1RvT3VuY2VzID0gKGs6IG51bWJlcikgPT4gayAqIDM1LjI3Mzk2MTlcblxuZXhwb3J0IGNvbnN0IGtnVG9Qb3VuZHMgPSAoazogbnVtYmVyKSA9PiBrZ1RvT3VuY2VzKGspIC8gMTZcblxuZXhwb3J0IGNvbnN0IHBvdW5kc1Rva2cgPSAocDogbnVtYmVyKSA9PiBwIC8gMi4yMDRcblxuZXhwb3J0IGNvbnN0IGxpdGVyc1RvT3VuY2VzID0gKGw6IG51bWJlcikgPT4gbCAvIDAuMDI5NTczNVxuXG5leHBvcnQgY29uc3Qgb3VuY2VzVG9MaXRlcnMgPSAobzogbnVtYmVyKSA9PiBvICogMC4wMjk1NzM1XG5cbmV4cG9ydCBjb25zdCBsaXRlcnNUb0dhbGxvbnMgPSAobDogbnVtYmVyKSA9PiBsaXRlcnNUb091bmNlcyhsKSAvIDEyOFxuXG5leHBvcnQgY29uc3QgZ2FsbG9uc1RvTGl0ZXJzID0gKGc6IG51bWJlcikgPT4gb3VuY2VzVG9MaXRlcnMoZyAqIDEyOClcblxuZXhwb3J0IGNvbnN0IGZhaHJlbmhlaXRUb0NlbHNpdXMgPSAoZjogbnVtYmVyKSA9PiAoZiAtIDMyKSAvIDEuOFxuXG5leHBvcnQgY29uc3QgY2Vsc2l1c1RvRmFocmVuaGVpdCA9IChjOiBudW1iZXIpID0+IGMgKiAxLjggKyAzMlxuXG5leHBvcnQgY29uc3Qga3BhVG9Qc2kgPSAoa3BhOiBudW1iZXIpID0+IGtwYSAqIDAuMTQ1MDM3NzM3NzMwMjA5MjNcblxuZXhwb3J0IGNvbnN0IHBzaVRva3BhID0gKHBzaTogbnVtYmVyKSA9PiBwc2kgKiA2Ljg5NDc1NzI5MzE2ODM2MVxuXG5leHBvcnQgY29uc3Qgc2dUb1BsYXRvID0gKHNnOiBudW1iZXIpID0+XG4gIC02MTYuODY4ICtcbiAgMTExMS4xNCAqIHNnIC1cbiAgNjMwLjI3MiAqIE1hdGgucG93KHNnLCAyKSArXG4gIDEzNS45OTcgKiBNYXRoLnBvdyhzZywgMylcblxuZXhwb3J0IGNvbnN0IHBsYXRvVG9TRyA9IChlOiBudW1iZXIpID0+IDEgKyBlIC8gKDI1OC42IC0gKGUgLyAyNTguMikgKiAyMjcuMSlcblxuZXhwb3J0IGNvbnN0IGJyaXhUb1NHID0gKGJyaXg6IG51bWJlcikgPT5cbiAgYnJpeCAvICgyNTguNiAtIChicml4IC8gMjU4LjIpICogMjI3LjEpICsgMVxuXG5leHBvcnQgY29uc3Qgc2dUb0JyaXggPSAoc2c6IG51bWJlcikgPT5cbiAgLTY2OS41NjIyICtcbiAgMTI2Mi43NzQ5ICogc2cgLVxuICA3NzUuNjgyMSAqIE1hdGgucG93KHNnLCAyKSArXG4gIDE4Mi40NjAxICogTWF0aC5wb3coc2csIDMpXG5cbmV4cG9ydCBjb25zdCBzcm1Ub0ViYyA9IChzcm06IG51bWJlcikgPT4gc3JtICogMS45N1xuXG5leHBvcnQgY29uc3QgZWJjVG9Tcm0gPSAoZWJjOiBudW1iZXIpID0+IGViYyAqIDAuNTA4XG5cbmV4cG9ydCBjb25zdCBzcm1Ub0xvdmlib25kID0gKHNybTogbnVtYmVyKSA9PiAoc3JtICsgMC43NikgLyAxLjM1NDZcblxuZXhwb3J0IGNvbnN0IGxvdmlib25kVG9Tcm0gPSAobG92aWJvbmQ6IG51bWJlcikgPT4gMS4zNTQ2ICogbG92aWJvbmQgLSAwLjc2XG5cbmV4cG9ydCBjb25zdCBzdW0gPSAoYXJyYXk6IEFycmF5PG51bWJlcj4pOiBudW1iZXIgPT5cbiAgYXJyYXkucmVkdWNlKChwdiwgY3YpID0+IHB2ICsgY3YsIDApXG5cbmNvbnN0IHNjYWxlSW5ncmVkaWVudHMgPSAoc2NhbGVGYWN0b3I6IG51bWJlciwgaW5ncmVkaWVudHM6IGFueSkgPT5cbiAgaW5ncmVkaWVudHMubWFwKChpKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmksXG4gICAgICBhbW91bnQ6IHNjYWxlRmFjdG9yICogaS5hbW91bnQsXG4gICAgfVxuICB9KVxuXG5leHBvcnQgY29uc3QgY2FwaXRhbGl6ZSA9IChzdHI6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHdvcmRzOiBBcnJheTxzdHJpbmc+ID0gc3RyLnNwbGl0KCcgJylcbiAgY29uc3QgY2FwaXRhbGl6ZWRXb3JkczogQXJyYXk8c3RyaW5nPiA9IHdvcmRzLm1hcChcbiAgICAod29yZCkgPT4gd29yZC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHdvcmQuc2xpY2UoMSlcbiAgKVxuICByZXR1cm4gY2FwaXRhbGl6ZWRXb3Jkcy5qb2luKCcgJylcbn1cblxuZXhwb3J0IGNvbnN0IGlzTm90RW1wdHlBcnJheSA9IChhcnI6IEFycmF5PGFueT4pOiBib29sZWFuID0+IHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgIHJldHVybiBhcnIubGVuZ3RoID4gMFxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcm91bmQobnVtYmVyLCBwcmVjaXNpb24gPSAwKSB7XG4gIGlmICh0eXBlb2YgbnVtYmVyID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBOdW1iZXIobnVtYmVyLnRvRml4ZWQocHJlY2lzaW9uKSlcbiAgfVxuICByZXR1cm4gbnVsbFxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3Qob2JqZWN0KSB7XG4gIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0J1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNNZWFzdXJhYmxlKG9iamVjdCkge1xuICByZXR1cm4gKFxuICAgIGlzT2JqZWN0KG9iamVjdCkgJiZcbiAgICBvYmplY3QuaGFzT3duUHJvcGVydHkoJ3ZhbHVlJykgJiZcbiAgICBvYmplY3QuaGFzT3duUHJvcGVydHkoJ3VuaXQnKVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNZWFzdXJhYmxlVmFsdWUobWVhc3VyYWJsZSkge1xuICBpZiAoaXNNZWFzdXJhYmxlKG1lYXN1cmFibGUpKSB7XG4gICAgcmV0dXJuIG1lYXN1cmFibGUudmFsdWVcbiAgfVxuICByZXR1cm4gbnVsbFxufVxuXG5leHBvcnQgY29uc3Qgcm91bmRNZWFzdXJhYmxlID0gKG0sIHByZWNpc2lvbikgPT4ge1xuICByZXR1cm4ge1xuICAgIHVuaXQ6IG0udW5pdCxcbiAgICB2YWx1ZTogcm91bmQobS52YWx1ZSwgcHJlY2lzaW9uKSxcbiAgfVxufVxuIiwiZXhwb3J0IHR5cGUgWWVhc3QgPSB7XG4gIG5hbWU6IHN0cmluZ1xuICBhbW91bnQ6IG51bWJlclxuICBhdHRlbnVhdGlvbj86IG51bWJlclxuICBmb3JtOiAnTGlxdWlkJyB8ICdEcnknIHwgJ1NsYW50JyB8ICdDdWx0dXJlJ1xuICB0eXBlOiAnQWxlJyB8ICdMYWdlcicgfCAnV2hlYXQnIHwgJ1dpbmUnIHwgJ0NoYW1wYWduZSdcbiAgY3VsdHVyZURhdGU/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGNvbnN0IFllYXN0VHlwZXMgPSB7XG4gIGFsZTogJ0FsZScsXG4gIGxhZ2VyOiAnTGFnZXInLFxuICB3aGVhdDogJ1doZWF0JyxcbiAgd2luZTogJ1dpbmUnLFxuICBjaGFtcGFnbmU6ICdDaGFtcGFnbmUnLFxufVxuZXhwb3J0IGNvbnN0IFllYXN0Rm9ybXMgPSB7XG4gIGxpcXVpZDogJ0xpcXVpZCcsXG4gIGRyeTogJ0RyeScsXG4gIHNsYW50OiAnU2xhbnQnLFxuICBjdWx0dXJlOiAnQ3VsdHVyZScsXG59XG4iLCJpbXBvcnQgeyBsaXRlcnNUb0dhbGxvbnMsIHBvdW5kc1Rva2csIHNnVG9QbGF0byB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgdHlwZSB7IFllYXN0IH0gZnJvbSBcIi4vdHlwZXMveWVhc3RcIjtcbmltcG9ydCB7IFllYXN0Rm9ybXMgfSBmcm9tIFwiLi90eXBlcy95ZWFzdFwiO1xuXG4vLyBodHRwczovL3d3dy5icmV3ZXJzZnJpZW5kLmNvbS95ZWFzdC1waXRjaC1yYXRlLWFuZC1zdGFydGVyLWNhbGN1bGF0b3IvXG5cbi8vIG1pbGxpb24gY2VsbHMgLyBtbCAvIGRlZ3JlZSBQbGF0b1xuXG4vLyBNaW5pbXVtIG1hbnVmYWN0dXJlcidzIHJlY29tbWVuZGF0aW9uOiAwLjM1IChhbGUgb25seSwgZnJlc2ggeWVhc3Qgb25seSlcbi8vIE1pZGRsZSBvZiB0aGUgcm9hZCBQcm8gQnJld2VyIDAuNzUgKGFsZSlcbi8vIFBybyBCcmV3ZXIgMS4wMCAoaGlnaCBncmF2aXR5IGFsZSlcbi8vIFBybyBCcmV3ZXIgMS41MCAobWluaW11bSBmb3IgbGFnZXIpXG4vLyBQcm8gQnJld2VyIDIuMCAoaGlnaCBncmF2aXR5IGxhZ2VyKVxuXG4vLyBjZWxsRGVuc2l0eSA9IGJpbGxpb24gY2VsbHMgLyBncmFtXG4vLyBTYWZhbGUgSy05N1x0MTRcbi8vIFNhZmFsZSBTLTA0XHQ4XG4vLyBTYWZicmV3IFQtNThcdDE4XG4vLyBTYWZicmV3IFMtMzNcdDE2XG4vLyBTYWZsYWdlciBTLTIzXHQxMFxuLy8gU2FmbGFnZXIgUy0xODlcdDlcblxuLy8gQSBwYWNrL3ZpYWwgY29udGFpbnMgMTAwIGJpbGxpb24gY2VsbHMgYXQgdGhlIGRhdGUgb2YgbWFudWZhY3R1cmUuXG4vLyBMaXF1aWQgeWVhc3QgdmlhYmlsaXR5IGRyb3BzIDIxJSBlYWNoIG1vbnRoLCBvciAwLjclIGVhY2ggZGF5LCBmcm9tIHRoZSBkYXRlIG9mIG1hbnVmYWN0dXJlLlxuLy8gVGhlIGFzc3VtcHRpb24gaXMgdGhlIHllYXN0IHZpYWJpbGl0eSBkcm9wcyBpbiBhIGxpbmVhciBmYXNoaW9uLiBJbiA0Ljc1IG1vbnRocyBvciAxNDMgZGF5cywgdGhpcyBjYWxjdWxhdG9yIGFzc3VtZXMgdGhlIHllYXN0IGlzIDEwMCUgZGVhZCAoMTAwIC8gMC43ID0gfjE0MykuXG5cbi8vIG1pbGxpb24gMTAgXiA2XG4vLyBiaWxsaW9uIDEwIF4gOVxuXG5leHBvcnQgY29uc3QgeWVhc3ROZWVkZWQgPSAocGl0Y2hSYXRlOiBudW1iZXIsIGJhdGNoU2l6ZTogbnVtYmVyLCBlOiBudW1iZXIpID0+XG4gIChwaXRjaFJhdGUgKiAoYmF0Y2hTaXplICogMTAwMCkgKiBlKSAvIDEwMDA7XG5cbmNvbnN0IHZpYWJpbGl0eSA9IChcbiAgY3VycmVudERhdGU6IHN0cmluZyxcbiAgY3VsdHVyZURhdGU6IHN0cmluZyA9IG5ldyBEYXRlKCkudG9TdHJpbmcoKVxuKSA9PlxuICAxMDAgLVxuICBNYXRoLmZsb29yKChEYXRlLnBhcnNlKGN1cnJlbnREYXRlKSAtIERhdGUucGFyc2UoY3VsdHVyZURhdGUpKSAvIDg2NDAwMDAwKSAqXG4gICAgMC43O1xuXG5leHBvcnQgY29uc3QgeWVhc3RDb3VudCA9IChcbiAgeyBhbW91bnQsIGZvcm0sIGN1bHR1cmVEYXRlIH06IFllYXN0LFxuICBjdXJyZW50RGF0ZTogc3RyaW5nID0gbmV3IERhdGUoKS50b1N0cmluZygpLFxuICBjZWxsRGVuc2l0eTogbnVtYmVyID0gOCxcbiAgLy8gYmlsbGlvbiBjZWxscyAvIG1sXG4gIHNsdXJyeURlbnNpdHk6IG51bWJlciA9IDFcbikgPT4ge1xuICBzd2l0Y2ggKGZvcm0pIHtcbiAgICBjYXNlIFllYXN0Rm9ybXMuZHJ5OlxuICAgICAgcmV0dXJuIGNlbGxEZW5zaXR5ICogYW1vdW50ICogMTAwMDtcbiAgICBjYXNlIFllYXN0Rm9ybXMubGlxdWlkOlxuICAgICAgcmV0dXJuIDEwMCAqICh2aWFiaWxpdHkoY3VycmVudERhdGUsIGN1bHR1cmVEYXRlKSAvIDEwMCkgKiBhbW91bnQ7XG4gICAgY2FzZSBZZWFzdEZvcm1zLnNsYW50OlxuICAgICAgcmV0dXJuIHNsdXJyeURlbnNpdHkgKiBhbW91bnQgKiAxMDAwO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3RJbXBsZW1lbnRlZEVycm9yXCIpO1xuICB9XG59O1xuXG5jb25zdCB5ZWFzdEdyb3d0aCA9IChyYXRpbykgPT4gMi4zMyAtIDAuNjcgKiByYXRpbztcblxuY29uc3QgZ3Jvd3RoUmF0ZUN1cnZlQnJhdWthaXNlclN0aXIgPSAocmF0aW86IG51bWJlcikgPT5cbiAgcmF0aW8gPCAxLjRcbiAgICA/IDEuNFxuICAgIDogcmF0aW8gPj0gMS40ICYmIHJhdGlvIDw9IDMuNSAmJiB5ZWFzdEdyb3d0aChyYXRpbykgPiAwXG4gICAgPyB5ZWFzdEdyb3d0aChyYXRpbylcbiAgICA6IDA7XG5cbmV4cG9ydCBjb25zdCB5ZWFzdFN0YXJ0ZXJHcm93ID0gKFxuICBzdGFydGluZ1llYXN0Q291bnQ6IG51bWJlcixcbiAgc3RhcnRlclNpemU6IG51bWJlcixcbiAgZ3Jhdml0eTogbnVtYmVyLFxuICBiYXRjaFNpemU6IG51bWJlclxuKSA9PiB7XG4gIGNvbnN0IHZvbHVtZUxldmVsID0gbGl0ZXJzVG9HYWxsb25zKHN0YXJ0ZXJTaXplKTtcbiAgY29uc3QgcG9pbnRzTmVlZGVkID0gdm9sdW1lTGV2ZWwgKiAoZ3Jhdml0eSAtIDEpICogMTAwMDtcbiAgY29uc3QgcG91bmRzRE1FID0gcG9pbnRzTmVlZGVkIC8gNDI7XG4gIGNvbnN0IGdyYW1zRE1FID0gcG91bmRzVG9rZyhwb3VuZHNETUUpICogMTAwMDtcbiAgY29uc3QgY2VsbHNUb0dyYW1zUmF0aW8gPSBzdGFydGluZ1llYXN0Q291bnQgLyBncmFtc0RNRTtcblxuICBjb25zdCBncm93dGhSYXRlID0gZ3Jvd3RoUmF0ZUN1cnZlQnJhdWthaXNlclN0aXIoY2VsbHNUb0dyYW1zUmF0aW8pO1xuICBjb25zdCBlbmRpbmdDb3VudCA9IGdyYW1zRE1FICogZ3Jvd3RoUmF0ZSArIHN0YXJ0aW5nWWVhc3RDb3VudDtcbiAgY29uc3QgcGl0Y2hSYXRlID1cbiAgICAoZW5kaW5nQ291bnQgKiAxMDAwKSAvIHNnVG9QbGF0byhncmF2aXR5KSAvIChiYXRjaFNpemUgLyAxMDAwKTtcblxuICByZXR1cm4ge1xuICAgIGdyb3d0aFJhdGU6IGdyb3d0aFJhdGUsXG4gICAgZW5kaW5nQ291bnQ6IGVuZGluZ0NvdW50LFxuICAgIHBpdGNoUmF0ZTogcGl0Y2hSYXRlLFxuICB9O1xufTtcbiIsImltcG9ydCB7IGNlbHNpdXNUb0ZhaHJlbmhlaXQsIGxpdGVyc1RvR2FsbG9ucyB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbi8vIGh0dHBzOi8vYnlvLmNvbS95ZWFzdC9pdGVtLzE2NC1iYWxhbmNpbmcteW91ci1kcmFmdC1zeXN0ZW0tYWR2YW5jZWQtYnJld2luZ1xuXG5jb25zdCBrZWdQcmVzc3VyZSA9IChjYXJiVm9sdW1lOiBudW1iZXIsIHQ6IG51bWJlcikgPT5cbiAgTWF0aC5tYXgoXG4gICAgMCxcbiAgICAtMTYuNjk5OSAtXG4gICAgICAwLjAxMDEwNTkgKiB0ICtcbiAgICAgIDAuMDAxMTY1MTIgKiB0ICogdCArXG4gICAgICAwLjE3MzM1NCAqIHQgKiBjYXJiVm9sdW1lICtcbiAgICAgIDQuMjQyNjcgKiBjYXJiVm9sdW1lIC1cbiAgICAgIDAuMDY4NDIyNiAqIGNhcmJWb2x1bWUgKiBjYXJiVm9sdW1lXG4gICk7XG5cbi8vIGh0dHA6Ly93d3cuaG9tZWJyZXd0YWxrLmNvbS9zaG93dGhyZWFkLnBocD90PTQ0MTM4M1xuY29uc3QgcHJpbWluZ1N1Z2FyID0gKGNhcmJWb2x1bWUsIHQsIGJhdGNoU2l6ZSkgPT5cbiAgMTUuMTk1ICpcbiAgYmF0Y2hTaXplICpcbiAgKGNhcmJWb2x1bWUgLSAzLjAzNzggKyA1LjAwNjJlLTIgKiB0IC0gMi42NTU1ZS00ICogdCAqIHQpO1xuXG5jb25zdCBub3JtYWxpemVUZW1wID0gKHQ6IG51bWJlcikgPT4gTWF0aC5tYXgoMzIuMCwgY2Vsc2l1c1RvRmFocmVuaGVpdCh0KSk7XG5cbmV4cG9ydCBjb25zdCBjYXJib25hdGlvbiA9IChcbiAgY2FyYlZvbHVtZTogbnVtYmVyLFxuICB0OiBudW1iZXIsXG4gIGJhdGNoU2l6ZTogbnVtYmVyXG4pID0+IHtcbiAgY29uc3Qgc3VnYXIgPSBwcmltaW5nU3VnYXIoXG4gICAgY2FyYlZvbHVtZSxcbiAgICBub3JtYWxpemVUZW1wKHQpLFxuICAgIGxpdGVyc1RvR2FsbG9ucyhiYXRjaFNpemUpXG4gICk7XG5cbiAgcmV0dXJuIHtcbiAgICBrZWdQcmVzc3VyZToga2VnUHJlc3N1cmUoY2FyYlZvbHVtZSwgbm9ybWFsaXplVGVtcCh0KSksXG4gICAga2VnU3VnYXI6IHN1Z2FyICogMC41LFxuICAgIGNvcm5TdWdhcjogc3VnYXIsXG4gICAgZG1lOiBzdWdhciAqIDEuNTM4LFxuICB9O1xufTtcblxuLy8gaHR0cDovL2JlZXJzbWl0aC5jb20vYmxvZy8yMDExLzAyLzA0L2NvdW50aW5nLWNhbG9yaWVzLWluLXlvdXItaG9tZWJyZXdlZC1iZWVyL1xuLy8gQ2Fsb3JpZV9mcm9tX2FsY29ob2wgPSAxODgxLjIyICogRkcgKiAoT0ctRkcpLygxLjc3NS1PRylcbi8vIENhbG9yaWVzX2Zyb21fY2FyYnMgPSAzNTUwLjAgKiBGRyAqICgoMC4xODA4ICogT0cpICsgKDAuODE5MiAqIEZHKSDigJMgMS4wMDA0KVxuLy8gVG90YWwgY2Fsb3JpZXMg4oCTIGp1c3QgYWRkIHRoZSBDYWxvcmllc19mcm9tX2FsY29ob2wgdG8gQ2Fsb3JpZXNfZnJvbV9jYXJic1xuXG5jb25zdCBjYWxvcmllc0FsYyA9IChvZywgZmcpID0+IDE4ODEuMjIgKiBmZyAqICgob2cgLSBmZykgLyAoMS43NzUgLSBvZykpO1xuY29uc3QgY2Fsb3JpZXNFeHQgPSAob2csIGZnKSA9PlxuICAzNTUwLjAgKiBmZyAqICgwLjE4MDggKiBvZyArIDAuODE5MiAqIGZnIC0gMS4wMDA0KTtcblxuZXhwb3J0IGNvbnN0IGNhbGNDYWxvcmllcyA9IChvZzogbnVtYmVyLCBmZzogbnVtYmVyKSA9PlxuICBjYWxvcmllc0FsYyhvZywgZmcpICsgY2Fsb3JpZXNFeHQob2csIGZnKTtcbiIsImltcG9ydCB7XG4gIHNybVRvRWJjLFxuICBlYmNUb1NybSxcbiAgc3JtVG9Mb3ZpYm9uZCxcbiAgbG92aWJvbmRUb1NybSxcbiAgc2dUb1BsYXRvLFxuICBwbGF0b1RvU0csXG4gIHNnVG9Ccml4LFxuICBicml4VG9TRyxcbiAgZmFocmVuaGVpdFRvQ2Vsc2l1cyxcbiAgY2Vsc2l1c1RvRmFocmVuaGVpdCxcbn0gZnJvbSAnLi4vdXRpbHMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbWFzczoge1xuICAgIG1ldHJpYzoge1xuICAgICAgdG9CYXNlOiAodikgPT4gdixcbiAgICAgIGZyb21CYXNlOiAodikgPT4gdixcbiAgICAgIHVuaXRzOiB7XG4gICAgICAgIG1nOiB7XG4gICAgICAgICAgcmF0aW86IDAuMDAxLFxuICAgICAgICB9LFxuICAgICAgICBnOiB7XG4gICAgICAgICAgcmF0aW86IDEsXG4gICAgICAgIH0sXG4gICAgICAgIGtnOiB7XG4gICAgICAgICAgcmF0aW86IDEwMDAsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAgdXM6IHtcbiAgICAgIHRvQmFzZTogKHYpID0+IHYgKiA0NTMuNTkyLFxuICAgICAgZnJvbUJhc2U6ICh2KSA9PiB2IC8gNDUzLjU5MixcbiAgICAgIHVuaXRzOiB7XG4gICAgICAgIGxiOiB7XG4gICAgICAgICAgcmF0aW86IDEsXG4gICAgICAgIH0sXG4gICAgICAgIG96OiB7XG4gICAgICAgICAgcmF0aW86IDEgLyAxNixcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSxcblxuICB2b2x1bWU6IHtcbiAgICBtZXRyaWM6IHtcbiAgICAgIHRvQmFzZTogKHYpID0+IHYsXG4gICAgICBmcm9tQmFzZTogKHYpID0+IHYsXG4gICAgICB1bml0czoge1xuICAgICAgICBsOiB7XG4gICAgICAgICAgcmF0aW86IDEsXG4gICAgICAgIH0sXG4gICAgICAgIG1sOiB7XG4gICAgICAgICAgcmF0aW86IDAuMDAxLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuXG4gICAgaW1wZXJpYWw6IHtcbiAgICAgIHRvQmFzZTogKHYpID0+IHYgKiAxLjEzNjUyMyxcbiAgICAgIGZyb21CYXNlOiAodikgPT4gdiAvIDEuMTM2NTIzLFxuICAgICAgdW5pdHM6IHtcbiAgICAgICAgaWZsb3o6IHtcbiAgICAgICAgICByYXRpbzogMSAvIDQwLFxuICAgICAgICB9LFxuICAgICAgICBpcHQ6IHtcbiAgICAgICAgICByYXRpbzogMSAvIDIsXG4gICAgICAgIH0sXG4gICAgICAgIGlxdDoge1xuICAgICAgICAgIHJhdGlvOiAxLFxuICAgICAgICB9LFxuICAgICAgICBpZ2FsOiB7XG4gICAgICAgICAgcmF0aW86IDQsXG4gICAgICAgIH0sXG4gICAgICAgIGliYmw6IHtcbiAgICAgICAgICByYXRpbzogMTQ0LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuXG4gICAgdXM6IHtcbiAgICAgIHRvQmFzZTogKHYpID0+IHYgKiAwLjk0NjM1MyxcbiAgICAgIGZyb21CYXNlOiAodikgPT4gdiAvIDAuOTQ2MzUzLFxuICAgICAgdW5pdHM6IHtcbiAgICAgICAgdHNwOiB7XG4gICAgICAgICAgcmF0aW86IDEgLyAxOTIsXG4gICAgICAgIH0sXG4gICAgICAgIHRic3A6IHtcbiAgICAgICAgICByYXRpbzogMSAvIDY0LFxuICAgICAgICB9LFxuICAgICAgICBmbG96OiB7XG4gICAgICAgICAgcmF0aW86IDEgLyAzMixcbiAgICAgICAgfSxcbiAgICAgICAgY3VwOiB7XG4gICAgICAgICAgcmF0aW86IDEgLyA0LFxuICAgICAgICB9LFxuICAgICAgICBwdDoge1xuICAgICAgICAgIHJhdGlvOiAxIC8gMixcbiAgICAgICAgfSxcbiAgICAgICAgcXQ6IHtcbiAgICAgICAgICByYXRpbzogMSxcbiAgICAgICAgfSxcbiAgICAgICAgZ2FsOiB7XG4gICAgICAgICAgcmF0aW86IDQsXG4gICAgICAgIH0sXG4gICAgICAgIGJibDoge1xuICAgICAgICAgIHJhdGlvOiAxMjQsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG5cbiAgY29sb3I6IHtcbiAgICBsb3ZpYm9uZDoge1xuICAgICAgdG9CYXNlOiBsb3ZpYm9uZFRvU3JtLFxuICAgICAgZnJvbUJhc2U6IHNybVRvTG92aWJvbmQsXG4gICAgICB1bml0czoge1xuICAgICAgICBMb3ZpOiB7XG4gICAgICAgICAgcmF0aW86IDEsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG5cbiAgICBlYmM6IHtcbiAgICAgIHRvQmFzZTogZWJjVG9Tcm0sXG4gICAgICBmcm9tQmFzZTogc3JtVG9FYmMsXG4gICAgICB1bml0czoge1xuICAgICAgICBFQkM6IHtcbiAgICAgICAgICByYXRpbzogMSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcblxuICAgIHNybToge1xuICAgICAgdG9CYXNlOiAodikgPT4gdixcbiAgICAgIGZyb21CYXNlOiAodikgPT4gdixcbiAgICAgIHVuaXRzOiB7XG4gICAgICAgIFNSTToge1xuICAgICAgICAgIHJhdGlvOiAxLFxuICAgICAgICB9LFxuICAgICAgICBzcm06IHtcbiAgICAgICAgICByYXRpbzogMSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSxcblxuICBncmF2aXR5OiB7XG4gICAgc2c6IHtcbiAgICAgIHRvQmFzZTogKHYpID0+IHYsXG4gICAgICBmcm9tQmFzZTogKHYpID0+IHYsXG4gICAgICB1bml0czoge1xuICAgICAgICBzZzoge1xuICAgICAgICAgIHJhdGlvOiAxLFxuICAgICAgICAgIHByZWNpc2lvbjogNCxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcblxuICAgIHBsYXRvOiB7XG4gICAgICB0b0Jhc2U6IHBsYXRvVG9TRyxcbiAgICAgIGZyb21CYXNlOiBzZ1RvUGxhdG8sXG4gICAgICB1bml0czoge1xuICAgICAgICBwbGF0bzoge1xuICAgICAgICAgIHJhdGlvOiAxLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuXG4gICAgYnJpeDoge1xuICAgICAgdG9CYXNlOiBicml4VG9TRyxcbiAgICAgIGZyb21CYXNlOiBzZ1RvQnJpeCxcbiAgICAgIHVuaXRzOiB7XG4gICAgICAgIGJyaXg6IHtcbiAgICAgICAgICByYXRpbzogMSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSxcblxuICB0ZW1wZXJhdHVyZToge1xuICAgIGNlbHNpdXM6IHtcbiAgICAgIHRvQmFzZTogKHYpID0+IHYsXG4gICAgICBmcm9tQmFzZTogKHYpID0+IHYsXG4gICAgICB1bml0czoge1xuICAgICAgICBDOiB7XG4gICAgICAgICAgcmF0aW86IDEsXG4gICAgICAgICAgcHJlY2lzaW9uOiAwLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuXG4gICAgZmFocmVuaGVpdDoge1xuICAgICAgdG9CYXNlOiBmYWhyZW5oZWl0VG9DZWxzaXVzLFxuICAgICAgZnJvbUJhc2U6IGNlbHNpdXNUb0ZhaHJlbmhlaXQsXG4gICAgICB1bml0czoge1xuICAgICAgICBGOiB7XG4gICAgICAgICAgcmF0aW86IDEsXG4gICAgICAgICAgcHJlY2lzaW9uOiAwLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICB9LFxuXG4gIHRpbWU6IHtcbiAgICB0aW1lOiB7XG4gICAgICB0b0Jhc2U6ICh2KSA9PiB2LFxuICAgICAgZnJvbUJhc2U6ICh2KSA9PiB2LFxuICAgICAgdW5pdHM6IHtcbiAgICAgICAgc2VjOiB7XG4gICAgICAgICAgcmF0aW86IDEgLyA2MCxcbiAgICAgICAgfSxcbiAgICAgICAgbWluOiB7XG4gICAgICAgICAgcmF0aW86IDEsXG4gICAgICAgIH0sXG4gICAgICAgIGhyOiB7XG4gICAgICAgICAgcmF0aW86IDYwLFxuICAgICAgICB9LFxuICAgICAgICBkYXk6IHtcbiAgICAgICAgICByYXRpbzogNjAgKiAyNCxcbiAgICAgICAgfSxcbiAgICAgICAgd2Vlazoge1xuICAgICAgICAgIHJhdGlvOiA2MCAqIDI0ICogNyxcbiAgICAgICAgfSxcbiAgICAgICAgbW9udGg6IHtcbiAgICAgICAgICByYXRpbzogNjAgKiAyNCAqIDMwLFxuICAgICAgICB9LFxuICAgICAgICB5ZWFyOiB7XG4gICAgICAgICAgcmF0aW86IDYwICogMjQgKiAzNjUsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG5cbiAgcHJlc3N1cmU6IHtcbiAgICBwcmVzc3VyZToge1xuICAgICAgdG9CYXNlOiAodikgPT4gdixcbiAgICAgIGZyb21CYXNlOiAodikgPT4gdixcbiAgICAgIHVuaXRzOiB7XG4gICAgICAgIGtQYToge1xuICAgICAgICAgIHJhdGlvOiAxLFxuICAgICAgICB9LFxuICAgICAgICBhdG06IHtcbiAgICAgICAgICByYXRpbzogMTAxLjMyNSxcbiAgICAgICAgfSxcbiAgICAgICAgYmFyOiB7XG4gICAgICAgICAgcmF0aW86IDEwMCxcbiAgICAgICAgfSxcbiAgICAgICAgcHNpOiB7XG4gICAgICAgICAgcmF0aW86IDYuODk0NzU3LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICB9LFxufVxuIiwiaW1wb3J0IGRlZmluaXRpb25zIGZyb20gJy4vZGVmaW5pdGlvbnMnXG5cbmNvbnN0IERFRkFVTFRfUFJFQ0lTSU9OID0gMlxuXG5jb25zdCByb3VuZFZhbHVlID0gKHZhbHVlOiBudW1iZXIsIHByZWNpc2lvbjogbnVtYmVyKTogbnVtYmVyID0+XG4gICt2YWx1ZS50b0ZpeGVkKHByZWNpc2lvbilcblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBmcm9tXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9cbiAqIEBwYXJhbSB7bnVtYmVyfSBwcmVjaXNpb25cbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBjb252ZXJ0ID0gKFxuICB2YWx1ZTogbnVtYmVyLFxuICBmcm9tOiBzdHJpbmcsXG4gIHRvOiBzdHJpbmcsXG4gIHByZWNpc2lvbj86IG51bWJlclxuKTogbnVtYmVyID0+IHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBjb252ZXJ0IG51bGwgb3IgdW5kZWZpbmVkIWApXG4gIH1cblxuICBsZXQgb3JpZ2luID0gbnVsbFxuICBsZXQgZGVzdGluYXRpb24gPSBudWxsXG5cbiAgZm9yIChjb25zdCBtZWFzdXJhYmxlVHlwZUtleSBpbiBkZWZpbml0aW9ucykge1xuICAgIGNvbnN0IG1lYXN1cmFibGVUeXBlID0gZGVmaW5pdGlvbnNbbWVhc3VyYWJsZVR5cGVLZXldXG4gICAgZm9yIChjb25zdCBzeXN0ZW1LZXkgaW4gbWVhc3VyYWJsZVR5cGUpIHtcbiAgICAgIGNvbnN0IHN5c3RlbSA9IG1lYXN1cmFibGVUeXBlW3N5c3RlbUtleV1cbiAgICAgIGlmIChzeXN0ZW0udW5pdHMuaGFzT3duUHJvcGVydHkoZnJvbSkpIHtcbiAgICAgICAgb3JpZ2luID0geyB1bml0OiBzeXN0ZW0udW5pdHNbZnJvbV0sIHN5c3RlbSB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzeXN0ZW0udW5pdHMuaGFzT3duUHJvcGVydHkodG8pKSB7XG4gICAgICAgIGRlc3RpbmF0aW9uID0geyB1bml0OiBzeXN0ZW0udW5pdHNbdG9dLCBzeXN0ZW0gfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvcmlnaW4gIT0gbnVsbCAmJiBkZXN0aW5hdGlvbiA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBVbmFibGUgdG8gY29udmVydCBbJHttZWFzdXJhYmxlVHlwZUtleX1dIHVuaXQgWyR7ZnJvbX1dIHRvIFske3RvfV0hYFxuICAgICAgKVxuICAgIH1cblxuICAgIGlmIChvcmlnaW4gPT0gbnVsbCAmJiBkZXN0aW5hdGlvbiAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBVbmFibGUgdG8gY29udmVydCBbJHtmcm9tfV0gdG8gWyR7bWVhc3VyYWJsZVR5cGVLZXl9XSB1bml0IFske3RvfV0hYFxuICAgICAgKVxuICAgIH1cblxuICAgIGlmIChvcmlnaW4gIT0gbnVsbCAmJiBkZXN0aW5hdGlvbiAhPSBudWxsKSB7XG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmIChvcmlnaW4gPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgVW5pdCBub3QgZm91bmQgWyR7ZnJvbX1dIWApXG4gIH1cblxuICBpZiAoZGVzdGluYXRpb24gPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgVW5pdCBub3QgZm91bmQgWyR7dG99XSFgKVxuICB9XG5cbiAgY29uc3QgdW5pdFByZWNpc2lvbiA9XG4gICAgZGVzdGluYXRpb24udW5pdC5wcmVjaXNpb24gIT0gbnVsbFxuICAgICAgPyBkZXN0aW5hdGlvbi51bml0LnByZWNpc2lvblxuICAgICAgOiBERUZBVUxUX1BSRUNJU0lPTlxuXG4gIGNvbnN0IGFjdHVhbFByZWNpc2lvbiA9IHByZWNpc2lvbiAhPSBudWxsID8gcHJlY2lzaW9uIDogdW5pdFByZWNpc2lvblxuXG4gIGlmIChmcm9tID09PSB0bykge1xuICAgIHJldHVybiByb3VuZFZhbHVlKHZhbHVlLCBhY3R1YWxQcmVjaXNpb24pXG4gIH1cblxuICBsZXQgcmVzdWx0ID0gdmFsdWUgKiBvcmlnaW4udW5pdC5yYXRpb1xuXG4gIGlmIChvcmlnaW4uc3lzdGVtICE9PSBkZXN0aW5hdGlvbi5zeXN0ZW0pIHtcbiAgICByZXN1bHQgPSBkZXN0aW5hdGlvbi5zeXN0ZW0uZnJvbUJhc2Uob3JpZ2luLnN5c3RlbS50b0Jhc2UocmVzdWx0KSlcbiAgfVxuXG4gIHJlc3VsdCAvPSBkZXN0aW5hdGlvbi51bml0LnJhdGlvXG5cbiAgcmV0dXJuIHJvdW5kVmFsdWUocmVzdWx0LCBhY3R1YWxQcmVjaXNpb24pXG59XG4iLCJpbXBvcnQgeyBjb252ZXJ0IH0gZnJvbSAnLi9jb252ZXJ0ZXIvY29udmVydGVyJ1xuXG50eXBlIE1lYXN1cmFibGUgPSB7XG4gIHZhbHVlOiBudW1iZXJcbiAgdW5pdDogc3RyaW5nXG59XG5cbmV4cG9ydCBjb25zdCBjb252ZXJ0TWVhc3VyYWJsZVZhbHVlID0gKFxuICBtZWFzdXJhYmxlOiBNZWFzdXJhYmxlLFxuICB1bml0OiBzdHJpbmcsXG4gIHByZWNpc2lvbjogbnVtYmVyID0gNFxuKSA9PiB7XG4gIHJldHVybiBjb252ZXJ0KG1lYXN1cmFibGUudmFsdWUsIG1lYXN1cmFibGUudW5pdCwgdW5pdCwgcHJlY2lzaW9uKVxufVxuIiwiaW1wb3J0IHR5cGUgeyBUaW1pbmdUeXBlIH0gZnJvbSAnLi90eXBlcy9iZWVyanNvbidcblxuZXhwb3J0IGNvbnN0IHVzZSA9IChcbiAgdGltaW5nOiBUaW1pbmdUeXBlID0ge31cbik6IHtcbiAgYWRkX3RvX2JvaWw6IGJvb2xlYW5cbiAgYWRkX3RvX21hc2g6IGJvb2xlYW5cbn0gPT4gKHtcbiAgYWRkX3RvX2JvaWw6IHRpbWluZy51c2UgPT09ICdhZGRfdG9fYm9pbCcsXG4gIGFkZF90b19tYXNoOiAhdGltaW5nLnVzZSB8fCB0aW1pbmcudXNlID09PSAnYWRkX3RvX21hc2gnLFxufSlcblxuZXhwb3J0IGNvbnN0IGJvaWxUaW1lID0gKHRpbWluZzogVGltaW5nVHlwZSA9IHt9KTogbnVtYmVyID0+XG4gIHRpbWluZy51c2UgPT09ICdhZGRfdG9fYm9pbCcgPyB0aW1pbmcudGltZS52YWx1ZSA6IDBcbiIsImltcG9ydCB7IHN1bSB9IGZyb20gJy4vdXRpbHMnXG5pbXBvcnQgeyBjb252ZXJ0TWVhc3VyYWJsZVZhbHVlIH0gZnJvbSAnLi91bml0cydcbmltcG9ydCB7IHVzZSwgYm9pbFRpbWUgfSBmcm9tICcuL3RpbWluZydcbmltcG9ydCB7XG4gIFZvbHVtZVR5cGUsXG4gIEhvcEFkZGl0aW9uVHlwZSxcbiAgQml0dGVybmVzc1R5cGUsXG4gIEdyYXZpdHlUeXBlLFxufSBmcm9tICcuL3R5cGVzL2JlZXJqc29uJ1xuXG5jb25zdCBhbHBoYUFjaWRVbml0cyA9IChhbW91bnRJbk96OiBudW1iZXIsIGFscGhhQWNpZDogbnVtYmVyKTogbnVtYmVyID0+XG4gIGFtb3VudEluT3ogKiBhbHBoYUFjaWRcblxuY29uc3QgZ3Jhdml0eUZhY3RvciA9IChib2lsR3Jhdml0eVZhbHVlOiBudW1iZXIpOiBudW1iZXIgPT5cbiAgMS42NSAqIE1hdGgucG93KDAuMDAwMTI1LCBib2lsR3Jhdml0eVZhbHVlIC0gMSlcblxuY29uc3QgdGltZUZhY3RvciA9IChib2lsVGltZUluTWluOiBudW1iZXIpOiBudW1iZXIgPT5cbiAgKDEgLSBNYXRoLmV4cCgtMC4wNCAqIGJvaWxUaW1lSW5NaW4pKSAvIDQuMTVcblxuY29uc3QgcGVsbGV0RmFjdG9yID0gKGZvcm06IHN0cmluZyA9ICcnKTogbnVtYmVyID0+XG4gIGZvcm0gPT09ICdwZWxsZXQnID8gMS4xIDogMVxuXG5jb25zdCBpYnVVdGlsaXphdGlvbiA9IChcbiAgaG9wRm9ybTogc3RyaW5nID0gJycsXG4gIGJvaWxHcmF2aXR5VmFsdWU6IG51bWJlcixcbiAgYm9pbFRpbWVJbk1pbjogbnVtYmVyID0gMFxuKSA9PlxuICBwZWxsZXRGYWN0b3IoaG9wRm9ybSkgKlxuICBncmF2aXR5RmFjdG9yKGJvaWxHcmF2aXR5VmFsdWUpICpcbiAgdGltZUZhY3Rvcihib2lsVGltZUluTWluKVxuXG4vLyBHbGVubiBUaW5zZXRoIGRldmVsb3BlZCB0aGUgZm9sbG93aW5nIGZvcm11bGEgdG8gY2FsY3VsYXRlIGJpdHRlcm5lc3MgaW4gSUJVczpcbi8vIElCVSA9IChVICogb3pzIGhvcHMgKiA3NDkwKS9Wb2x1bWUgKGluIGdhbGxvbnMpIFUgcmVwcmVzZW50cyB0aGUgdXRpbGl6YXRpb24gb2YgdGhlIGhvcHMgKGNvbnZlcnNpb24gdG8gaXNvLWFscGhhLWFjaWRzKSBiYXNlZCBvbiBib2lsIHRpbWUgYW5kIHdvcnQgZ3Jhdml0eS5cbi8vIFUgPSBiaWduZXNzIGZhY3RvciAqIGJvaWwgdGltZSBmYWN0b3JcblxuLy8gaHR0cDovL3d3dy5ob3d0b2JyZXcuY29tL2Jvb2svc2VjdGlvbi0xL2hvcHMvaG9wLWJpdHRlcmluZy1jYWxjdWxhdGlvbnNcblxuZXhwb3J0IGNvbnN0IGJpdHRlcm5lc3NJYnVUaW5zZXRoID0gKFxuICBob3BzOiBBcnJheTxIb3BBZGRpdGlvblR5cGU+LFxuICBib2lsR3Jhdml0eTogR3Jhdml0eVR5cGUsXG4gIHBvc3RCb2lsVm9sdW1lOiBWb2x1bWVUeXBlXG4pOiBCaXR0ZXJuZXNzVHlwZSA9PiB7XG4gIGNvbnN0IGJpdHRlcm5lc3MgPSBzdW0oXG4gICAgaG9wcy5tYXAoKHsgYW1vdW50LCBhbHBoYV9hY2lkLCBmb3JtLCB0aW1pbmcgfSkgPT4ge1xuICAgICAgLy8gVE9ETzogcmVzZWFyY2ggbmVlZGVkXG5cbiAgICAgIGlmICghdXNlKHRpbWluZykuYWRkX3RvX2JvaWwpIHtcbiAgICAgICAgcmV0dXJuIDBcbiAgICAgIH1cblxuICAgICAgY29uc3QgQUFVID0gYWxwaGFBY2lkVW5pdHMoXG4gICAgICAgIGNvbnZlcnRNZWFzdXJhYmxlVmFsdWUoYW1vdW50LCAnb3onKSxcbiAgICAgICAgYWxwaGFfYWNpZC52YWx1ZVxuICAgICAgKVxuICAgICAgY29uc3QgVSA9IGlidVV0aWxpemF0aW9uKFxuICAgICAgICBmb3JtLFxuICAgICAgICBjb252ZXJ0TWVhc3VyYWJsZVZhbHVlKGJvaWxHcmF2aXR5LCAnc2cnKSxcbiAgICAgICAgYm9pbFRpbWUodGltaW5nKVxuICAgICAgKVxuXG4gICAgICByZXR1cm4gKFUgKiBBQVUgKiA3NC44OSkgLyBjb252ZXJ0TWVhc3VyYWJsZVZhbHVlKHBvc3RCb2lsVm9sdW1lLCAnZ2FsJylcbiAgICB9KVxuICApXG5cbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogYml0dGVybmVzcyxcbiAgICB1bml0OiAnSUJVcycsXG4gIH1cbn1cblxuLy8gVGhlIHByZWNlaXZlZCBiaXR0ZXJuZXNzIGV4cHJlc3NlZCBpbiBhIHJhdGlvIG9mIElCVXMgdG8gZ3Jhdml0eS4gVGhpcyBpcyBmcmVxdWVudGx5IHNlZW4gZXhwcmVzc2VkIGFzIEJVL0dVLlxuLy8gVGhlIEdyYXZpdHkgVW5pdHMgYXJlIHRoZSBkZWNpbWFsIHBvcnRpb24gb2YgdGhlIG9yaWdpbmFsIGdyYXZpdHlcbi8vIGh0dHA6Ly9iZWVyc21pdGguY29tL2Jsb2cvMjAwOS8wOS8yNi9iYWxhbmNpbmcteW91ci1iZWVyLXdpdGgtdGhlLWJpdHRlcm5lc3MtcmF0aW8vXG5leHBvcnQgY29uc3QgYml0dGVybmVzc1JhdGlvID0gKGlidTogbnVtYmVyLCBndTogbnVtYmVyKSA9PiBpYnUgLyBndVxuXG4vLyByYWdlclxuY29uc3QgcmFnZXJIb3BHcmF2aXR5QWRqdXN0bWVudCA9IChzZ2IpID0+XG4gIHNnYiA8PSAxLjA1ID8gMCA6IChzZ2IgLSAxLjA1KSAvIDAuMlxuY29uc3QgcmFnZXJVdGlsID0gKHRpbWUpID0+IDE4LjExICsgMTMuODYgKiBNYXRoLnRhbmgoKHRpbWUgLSAzMS4zMikgLyAxOC4yNylcblxuY29uc3QgcmFnZXJIb3BJYnUgPSAoXG4gIGhvcDogSG9wQWRkaXRpb25UeXBlLFxuICBib2lsR3Jhdml0eTogR3Jhdml0eVR5cGUsXG4gIHBvc3RCb2lsVm9sdW1lOiBWb2x1bWVUeXBlXG4pOiBudW1iZXIgPT4ge1xuICBpZiAoIXVzZShob3AudGltaW5nKS5hZGRfdG9fYm9pbCkge1xuICAgIHJldHVybiAwXG4gIH1cblxuICBjb25zdCBVID1cbiAgICAocmFnZXJVdGlsKE1hdGguZmxvb3IoYm9pbFRpbWUoaG9wLnRpbWluZykgKyAwLjUpKSAqXG4gICAgICBwZWxsZXRGYWN0b3IoaG9wLmZvcm0pKSAvXG4gICAgMTAwXG4gIGNvbnN0IEFBVSA9IGFscGhhQWNpZFVuaXRzKGhvcC5hbW91bnQudmFsdWUsIGhvcC5hbHBoYV9hY2lkLnZhbHVlKVxuXG4gIHJldHVybiAoXG4gICAgKFUgKiBBQVUgKiA3NC44OSkgL1xuICAgIHBvc3RCb2lsVm9sdW1lLnZhbHVlIC9cbiAgICAoMS4wICsgcmFnZXJIb3BHcmF2aXR5QWRqdXN0bWVudChib2lsR3Jhdml0eS52YWx1ZSkpXG4gIClcbn1cblxuZXhwb3J0IGNvbnN0IGJpdHRlcm5lc3NJYnVSYWdlciA9IChcbiAgaG9wczogQXJyYXk8SG9wQWRkaXRpb25UeXBlPixcbiAgYm9pbEdyYXZpdHk6IEdyYXZpdHlUeXBlLFxuICBwb3N0Qm9pbFZvbHVtZTogVm9sdW1lVHlwZVxuKTogQml0dGVybmVzc1R5cGUgPT4ge1xuICBjb25zdCBiaXR0ZXJuZXNzID0gc3VtKFxuICAgIGhvcHMubWFwKChob3A6IEhvcEFkZGl0aW9uVHlwZSkgPT5cbiAgICAgIHJhZ2VySG9wSWJ1KGhvcCwgYm9pbEdyYXZpdHksIHBvc3RCb2lsVm9sdW1lKVxuICAgIClcbiAgKVxuXG4gIHJldHVybiB7XG4gICAgdmFsdWU6IGJpdHRlcm5lc3MsXG4gICAgdW5pdDogJ0lCVXMnLFxuICB9XG59XG4iLCJpbXBvcnQge1xuICBGZXJtZW50YWJsZUFkZGl0aW9uVHlwZSxcbiAgTWFzaFN0ZXBUeXBlLFxuICBUZW1wZXJhdHVyZVR5cGUsXG4gIFZvbHVtZVR5cGUsXG4gIE1hc3NUeXBlLFxufSBmcm9tICcuL3R5cGVzL2JlZXJqc29uJ1xuaW1wb3J0IHsgZ2V0TWVhc3VyYWJsZVZhbHVlLCBzdW0gfSBmcm9tICcuL3V0aWxzJ1xuaW1wb3J0IHsgY29udmVydE1lYXN1cmFibGVWYWx1ZSB9IGZyb20gJy4vdW5pdHMnXG5pbXBvcnQgeyB1c2UgfSBmcm9tICcuL3RpbWluZydcblxuY29uc3QgZ3JhaW5Wb2x1bWUgPSAwLjY1MiAvLyBsL2tnXG5jb25zdCBib2lsaW5nVGVtcCA9IDEwMFxuY29uc3QgbWFsdFNwZWNpZmljSGVhdCA9IDAuMzggLy8gQ2FsL2dyYW0tQ1xuY29uc3QgaW5pdGlhbFdhdGVyR3JhaW5SYXRpbyA9IDIuNSAvLyBsL2tnXG5cbmNvbnN0IGFkanVzdFR1bk1hc3MgPSAodHVuVm9sdW1lLCB0b3RWb2x1bWUsIHR1bk1hc3MpID0+IHtcbiAgdHVuVm9sdW1lID0gdHVuVm9sdW1lICogMC44XG4gIHJldHVybiB0dW5Wb2x1bWUgPiAwICYmIHRvdFZvbHVtZSA8IHR1blZvbHVtZVxuICAgID8gKHR1bk1hc3MgKiB0b3RWb2x1bWUpIC8gdHVuVm9sdW1lXG4gICAgOiB0dW5NYXNzXG59XG5cbmNvbnN0IGNhbGNEZWNvY3Rpb25TdGVwID0gKFxuICBzdGFydFRlbXAsXG4gIHRhcmdldFRlbXAsXG4gIHN0YXJ0Vm9sdW1lLFxuICBtYXNoR3JhaW5XZWlnaHQsXG4gIHR1bk1hc3MgPSAwLFxuICB0dW5TcGVjaWZpY0hlYXQgPSAwLFxuICB0dW5Wb2x1bWUgPSAwXG4pOiB7IGFtb3VudDogVm9sdW1lVHlwZSB9ID0+IHtcbiAgY29uc3QgdG90Vm9sdW1lID0gZ3JhaW5Wb2x1bWUgKiBtYXNoR3JhaW5XZWlnaHQgKyBzdGFydFZvbHVtZVxuICBjb25zdCBhZGp1c3RlZFR1bk1hc3MgPSBhZGp1c3RUdW5NYXNzKHR1blZvbHVtZSwgdG90Vm9sdW1lLCB0dW5NYXNzKVxuICBsZXQgZnJhY3Rpb24gPVxuICAgICgoKG1hbHRTcGVjaWZpY0hlYXQgKiBtYXNoR3JhaW5XZWlnaHQgK1xuICAgICAgdHVuU3BlY2lmaWNIZWF0ICogYWRqdXN0ZWRUdW5NYXNzICtcbiAgICAgIHN0YXJ0Vm9sdW1lKSAvXG4gICAgICAobWFsdFNwZWNpZmljSGVhdCAqIG1hc2hHcmFpbldlaWdodCArIHN0YXJ0Vm9sdW1lKSkgKlxuICAgICAgKHRhcmdldFRlbXAgLSBzdGFydFRlbXApKSAvXG4gICAgKGJvaWxpbmdUZW1wIC0gc3RhcnRUZW1wKVxuXG4gIGlmIChmcmFjdGlvbiA+IDEpIHtcbiAgICBmcmFjdGlvbiA9IDFcbiAgfVxuICByZXR1cm4geyBhbW91bnQ6IHsgdmFsdWU6IHRvdFZvbHVtZSAqIGZyYWN0aW9uLCB1bml0OiAnbCcgfSB9XG59XG5cbmNvbnN0IGNhbGNJbmZ1c2lvblN0ZXAgPSAoXG4gIHN0YXJ0VGVtcCxcbiAgc3RlcFRlbXAsXG4gIHN0YXJ0Vm9sdW1lLFxuICBpbmRleCxcbiAgbWFzaEdyYWluV2VpZ2h0XG4pOiB7XG4gIGFtb3VudDogVm9sdW1lVHlwZVxuICBpbmZ1c2VfdGVtcGVyYXR1cmU6IFRlbXBlcmF0dXJlVHlwZVxufSA9PiB7XG4gIGNvbnN0IGluZnVzZVRlbXAgPVxuICAgIGluZGV4ID4gMFxuICAgICAgPyBib2lsaW5nVGVtcFxuICAgICAgOiAobWFsdFNwZWNpZmljSGVhdCAqIChzdGVwVGVtcCAtIHN0YXJ0VGVtcCkpIC8gaW5pdGlhbFdhdGVyR3JhaW5SYXRpbyArXG4gICAgICAgIHN0ZXBUZW1wXG4gIGNvbnN0IGluZnVzZUFtb3VudCA9XG4gICAgKChtYXNoR3JhaW5XZWlnaHQgKiBtYWx0U3BlY2lmaWNIZWF0ICsgc3RhcnRWb2x1bWUpICpcbiAgICAgIChzdGVwVGVtcCAtIHN0YXJ0VGVtcCkpIC9cbiAgICAoaW5mdXNlVGVtcCAtIHN0ZXBUZW1wKVxuXG4gIHJldHVybiB7XG4gICAgaW5mdXNlX3RlbXBlcmF0dXJlOiB7XG4gICAgICB1bml0OiAnQycsXG4gICAgICB2YWx1ZTogaW5mdXNlVGVtcCxcbiAgICB9LFxuICAgIGFtb3VudDoge1xuICAgICAgdW5pdDogJ2wnLFxuICAgICAgdmFsdWU6IGluZnVzZUFtb3VudCxcbiAgICB9LFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWNhbGN1bGF0ZU1hc2hTdGVwcyhcbiAgbWFzaF9zdGVwczogQXJyYXk8TWFzaFN0ZXBUeXBlPixcbiAgZ3JhaW5fdGVtcGVyYXR1cmU6IFRlbXBlcmF0dXJlVHlwZSxcbiAgbWFzaEdyYWluV2VpZ2h0OiBNYXNzVHlwZVxuKTogQXJyYXk8TWFzaFN0ZXBUeXBlPiB7XG4gIGxldCBzdGFydFZvbHVtZSA9IDBcbiAgbGV0IHN0YXJ0VGVtcCA9IGdyYWluX3RlbXBlcmF0dXJlLnZhbHVlXG5cbiAgY29uc3QgZ3JhaW5XZWlnaHRWYWx1ZSA9IGNvbnZlcnRNZWFzdXJhYmxlVmFsdWUobWFzaEdyYWluV2VpZ2h0LCAna2cnKVxuXG4gIHJldHVybiBtYXNoX3N0ZXBzLm1hcCgoc3RlcDogTWFzaFN0ZXBUeXBlLCBpbmRleDogbnVtYmVyKTogTWFzaFN0ZXBUeXBlID0+IHtcbiAgICBjb25zdCBzdGVwVGVtcCA9IGdldE1lYXN1cmFibGVWYWx1ZShzdGVwLnN0ZXBfdGVtcGVyYXR1cmUpXG5cbiAgICBzd2l0Y2ggKHN0ZXAudHlwZSkge1xuICAgICAgY2FzZSAnZGVjb2N0aW9uJzoge1xuICAgICAgICBjb25zdCB7IGFtb3VudCB9ID0gY2FsY0RlY29jdGlvblN0ZXAoXG4gICAgICAgICAgc3RhcnRUZW1wLFxuICAgICAgICAgIHN0ZXBUZW1wLFxuICAgICAgICAgIHN0YXJ0Vm9sdW1lLFxuICAgICAgICAgIGdyYWluV2VpZ2h0VmFsdWVcbiAgICAgICAgKVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uc3RlcCxcbiAgICAgICAgICBhbW91bnQsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNhc2UgJ2luZnVzaW9uJzoge1xuICAgICAgICBjb25zdCB7IGFtb3VudCwgaW5mdXNlX3RlbXBlcmF0dXJlIH0gPSBjYWxjSW5mdXNpb25TdGVwKFxuICAgICAgICAgIHN0YXJ0VGVtcCxcbiAgICAgICAgICBzdGVwVGVtcCxcbiAgICAgICAgICBzdGFydFZvbHVtZSxcbiAgICAgICAgICBpbmRleCxcbiAgICAgICAgICBncmFpbldlaWdodFZhbHVlXG4gICAgICAgIClcblxuICAgICAgICBzdGFydFZvbHVtZSArPSBhbW91bnQudmFsdWVcbiAgICAgICAgc3RhcnRUZW1wID0gc3RlcFRlbXBcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnN0ZXAsXG4gICAgICAgICAgaW5mdXNlX3RlbXBlcmF0dXJlLFxuICAgICAgICAgIGFtb3VudCxcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHN0ZXBcbiAgICB9XG4gIH0pXG59XG5cbmV4cG9ydCBjb25zdCBjYWxjTWFzaEdyYWluV2VpZ2h0ID0gKFxuICBmZXJtZW50YWJsZXM6IEFycmF5PEZlcm1lbnRhYmxlQWRkaXRpb25UeXBlPlxuKTogTWFzc1R5cGUgPT4ge1xuICBjb25zdCB2YWx1ZSA9IHN1bShcbiAgICBmZXJtZW50YWJsZXMubWFwKCh7IHRpbWluZywgdHlwZSwgYW1vdW50IH06IEZlcm1lbnRhYmxlQWRkaXRpb25UeXBlKSA9PlxuICAgICAgdHlwZSA9PT0gJ2dyYWluJyAmJiB1c2UodGltaW5nKS5hZGRfdG9fbWFzaFxuICAgICAgICA/IGNvbnZlcnRNZWFzdXJhYmxlVmFsdWUoYW1vdW50LCAnbGInKVxuICAgICAgICA6IDBcbiAgICApXG4gIClcbiAgcmV0dXJuIHtcbiAgICB2YWx1ZSxcbiAgICB1bml0OiAnbGInLFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVTcGFyZ2VWb2x1bWUoXG4gIG1hc2hfc3RlcHM6IEFycmF5PE1hc2hTdGVwVHlwZT4sXG4gIHNwYXJnZVZvbHVtZTogVm9sdW1lVHlwZVxuKTogQXJyYXk8TWFzaFN0ZXBUeXBlPiB7XG4gIHJldHVybiBtYXNoX3N0ZXBzLm1hcCgoc3RlcCkgPT4ge1xuICAgIGlmIChzdGVwLnR5cGUgPT09ICdzcGFyZ2UnKSB7XG4gICAgICByZXR1cm4geyAuLi5zdGVwLCBhbW91bnQ6IHNwYXJnZVZvbHVtZSB9XG4gICAgfVxuICAgIHJldHVybiBzdGVwXG4gIH0pXG59XG4iLCJpbXBvcnQgeyBzdW0gfSBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0IHtcbiAgVm9sdW1lVHlwZSxcbiAgTWFzc1R5cGUsXG4gIEVxdWlwbWVudEl0ZW1UeXBlLFxuICBCb2lsUHJvY2VkdXJlVHlwZSxcbiAgTWFzaFN0ZXBUeXBlLFxufSBmcm9tIFwiLi90eXBlcy9iZWVyanNvblwiO1xuaW1wb3J0IHsgY29udmVydE1lYXN1cmFibGVWYWx1ZSB9IGZyb20gXCIuL3VuaXRzXCI7XG5cbmNvbnN0IGRlZmF1bHRCb2lsOiBCb2lsUHJvY2VkdXJlVHlwZSA9IHtcbiAgcHJlX2JvaWxfc2l6ZToge1xuICAgIHZhbHVlOiAwLFxuICAgIHVuaXQ6IFwiZ2FsXCIsXG4gIH0sXG4gIGJvaWxfdGltZToge1xuICAgIHZhbHVlOiAwLFxuICAgIHVuaXQ6IFwibWluXCIsXG4gIH0sXG59O1xuXG5jb25zdCBjb29saW5nU2hyaW5rYWdlUmF0ZSA9IDAuMDQ7XG5cbmNvbnN0IGNvbnZlcnRUb0dhbGxvbnMgPSAodm9sdW1lOiBWb2x1bWVUeXBlKSA9PlxuICBjb252ZXJ0TWVhc3VyYWJsZVZhbHVlKHZvbHVtZSwgXCJnYWxcIik7XG5cbi8vIDAuOTYgLSBudW1iZXIgb2YgZmwuIG91bmNlcyBvZiB3YXRlciBhYnNvcmJlZCBwZXIgb3VuY2Ugb2YgdGhlIGdyYWluXG4vLyAxMjggZmwuIG91bmNlcyBpbiBnYWxsb24sIDE2IG91bmNlcyBpbiBwb3VuZFxuY29uc3QgZ3JhaW5BYnNvcnB0aW9uUmF0aW8gPSAoMC45NiAvIDEyOCkgKiAxNjtcblxuY29uc3QgY2FsY0dyYWluQWJzb3JwdGlvbiA9IChncmFpbldlaWdodDogTWFzc1R5cGUpOiBWb2x1bWVUeXBlID0+IHtcbiAgY29uc3QgdmFsdWUgPVxuICAgIGNvbnZlcnRNZWFzdXJhYmxlVmFsdWUoZ3JhaW5XZWlnaHQsIFwibGJcIikgKiBncmFpbkFic29ycHRpb25SYXRpbztcbiAgcmV0dXJuIHtcbiAgICB2YWx1ZSxcbiAgICB1bml0OiBcImdhbFwiLFxuICB9O1xufTtcblxuY29uc3QgY2FsY01hc2hXYXRlclZvbHVtZSA9IChcbiAgbWFzaF9zdGVwczogQXJyYXk8TWFzaFN0ZXBUeXBlPiA9IFtdXG4pOiBWb2x1bWVUeXBlID0+IHtcbiAgY29uc3QgdmFsdWUgPSBzdW0oXG4gICAgbWFzaF9zdGVwcy5tYXAoKHsgdHlwZSwgYW1vdW50IH06IE1hc2hTdGVwVHlwZSkgPT5cbiAgICAgIHR5cGUgPT09IFwiaW5mdXNpb25cIiA/IGNvbnZlcnRUb0dhbGxvbnMoYW1vdW50KSA6IDBcbiAgICApXG4gICk7XG4gIHJldHVybiB7XG4gICAgdmFsdWUsXG4gICAgdW5pdDogXCJnYWxcIixcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBjYWxjTWFzaFZvbHVtZXMgPSAoXG4gIHByZV9ib2lsX3NpemU6IFZvbHVtZVR5cGUsXG4gIG1hc2hTdGVwczogQXJyYXk8TWFzaFN0ZXBUeXBlPixcbiAgbWFzaEdyYWluV2VpZ2h0OiBNYXNzVHlwZSxcbiAgZXF1aXBtZW50OiB7XG4gICAgaGx0PzogRXF1aXBtZW50SXRlbVR5cGU7XG4gICAgbWFzaF90dW4/OiBFcXVpcG1lbnRJdGVtVHlwZTtcbiAgICBicmV3X2tldHRsZT86IEVxdWlwbWVudEl0ZW1UeXBlO1xuICAgIGZlcm1lbnRlcj86IEVxdWlwbWVudEl0ZW1UeXBlO1xuICB9XG4pOiB7XG4gIG1hc2hfdm9sdW1lOiBWb2x1bWVUeXBlO1xuICBzcGFyZ2Vfdm9sdW1lOiBWb2x1bWVUeXBlO1xuICB0b3RhbF92b2x1bWU6IFZvbHVtZVR5cGU7XG59ID0+IHtcbiAgY29uc3QgbWFzaFdhdGVyVm9sdW1lID0gY2FsY01hc2hXYXRlclZvbHVtZShtYXNoU3RlcHMpO1xuXG4gIGNvbnN0IGdyYWluQWJzb3JwdGlvbiA9IGNhbGNHcmFpbkFic29ycHRpb24obWFzaEdyYWluV2VpZ2h0KTtcblxuICBjb25zdCBtYXNoTG9zcyA9XG4gICAgZXF1aXBtZW50Lm1hc2hfdHVuICE9IG51bGwgPyBjb252ZXJ0VG9HYWxsb25zKGVxdWlwbWVudC5tYXNoX3R1bi5sb3NzKSA6IDA7XG5cbiAgY29uc3Qgc3BhcmdlVm9sdW1lVmFsdWUgPVxuICAgIGNvbnZlcnRUb0dhbGxvbnMocHJlX2JvaWxfc2l6ZSkgK1xuICAgIGdyYWluQWJzb3JwdGlvbi52YWx1ZSAtXG4gICAgbWFzaFdhdGVyVm9sdW1lLnZhbHVlICtcbiAgICBtYXNoTG9zcztcblxuICBjb25zdCBzcGFyZ2VWb2x1bWU6IFZvbHVtZVR5cGUgPSB7XG4gICAgdmFsdWU6IHNwYXJnZVZvbHVtZVZhbHVlLFxuICAgIHVuaXQ6IFwiZ2FsXCIsXG4gIH07XG5cbiAgY29uc3QgdG90YWxWb2x1bWU6IFZvbHVtZVR5cGUgPSB7XG4gICAgdmFsdWU6IG1hc2hXYXRlclZvbHVtZS52YWx1ZSArIHNwYXJnZVZvbHVtZS52YWx1ZSxcbiAgICB1bml0OiBcImdhbFwiLFxuICB9O1xuXG4gIHJldHVybiB7XG4gICAgbWFzaF92b2x1bWU6IG1hc2hXYXRlclZvbHVtZSxcbiAgICBzcGFyZ2Vfdm9sdW1lOiBzcGFyZ2VWb2x1bWUsXG4gICAgdG90YWxfdm9sdW1lOiB0b3RhbFZvbHVtZSxcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBjYWxjQm9pbFZvbHVtZXMgPSAoXG4gIGJhdGNoX3NpemU6IFZvbHVtZVR5cGUsXG4gIGJvaWw6IEJvaWxQcm9jZWR1cmVUeXBlID0gZGVmYXVsdEJvaWwsXG4gIGVxdWlwbWVudDoge1xuICAgIGhsdD86IEVxdWlwbWVudEl0ZW1UeXBlO1xuICAgIG1hc2hfdHVuPzogRXF1aXBtZW50SXRlbVR5cGU7XG4gICAgYnJld19rZXR0bGU/OiBFcXVpcG1lbnRJdGVtVHlwZTtcbiAgICBmZXJtZW50ZXI/OiBFcXVpcG1lbnRJdGVtVHlwZTtcbiAgfVxuKTogeyBwcmVfYm9pbF9zaXplOiBWb2x1bWVUeXBlIH0gPT4ge1xuICBjb25zdCBib2lsUHJvZmlsZSA9IGJvaWwgfHwgZGVmYXVsdEJvaWw7XG5cbiAgY29uc3QgcG9zdEJvaWxWb2x1bWUgPSBjb252ZXJ0VG9HYWxsb25zKGJhdGNoX3NpemUpO1xuXG4gIGxldCBib2lsTG9zcyA9IDA7XG4gIGxldCBib2lsUmF0ZSA9IDA7XG4gIGlmIChlcXVpcG1lbnQgIT0gbnVsbCAmJiBlcXVpcG1lbnQuYnJld19rZXR0bGUgIT0gbnVsbCkge1xuICAgIGJvaWxMb3NzID0gY29udmVydFRvR2FsbG9ucyhlcXVpcG1lbnQuYnJld19rZXR0bGUubG9zcyk7XG4gICAgYm9pbFJhdGUgPSBjb252ZXJ0VG9HYWxsb25zKGVxdWlwbWVudC5icmV3X2tldHRsZS5ib2lsX3JhdGVfcGVyX2hvdXIpO1xuICB9XG5cbiAgY29uc3QgYm9pbE9mZlZvbHVtZSA9IChib2lsUmF0ZSAqIGJvaWxQcm9maWxlLmJvaWxfdGltZS52YWx1ZSkgLyA2MDtcbiAgY29uc3QgY29vbGluZ1Nocmlua2FnZSA9IHBvc3RCb2lsVm9sdW1lICogY29vbGluZ1Nocmlua2FnZVJhdGU7XG4gIGNvbnN0IHByZUJvaWxWb2x1bWUgPVxuICAgIHBvc3RCb2lsVm9sdW1lICsgYm9pbE9mZlZvbHVtZSArIGJvaWxMb3NzICsgY29vbGluZ1Nocmlua2FnZTtcblxuICByZXR1cm4ge1xuICAgIHByZV9ib2lsX3NpemU6IHtcbiAgICAgIHZhbHVlOiBwcmVCb2lsVm9sdW1lLFxuICAgICAgdW5pdDogXCJnYWxcIixcbiAgICB9LFxuICB9O1xufTtcbiIsImltcG9ydCB7IHN1bSB9IGZyb20gJy4vdXRpbHMnXG5pbXBvcnQge1xuICBWb2x1bWVUeXBlLFxuICBHcmF2aXR5VHlwZSxcbiAgWWllbGRUeXBlLFxuICBFZmZpY2llbmN5VHlwZSxcbiAgUGVyY2VudFR5cGUsXG4gIEZlcm1lbnRhYmxlQWRkaXRpb25UeXBlLFxuICBDdWx0dXJlQWRkaXRpb25UeXBlLFxufSBmcm9tICcuL3R5cGVzL2JlZXJqc29uJ1xuaW1wb3J0IHsgY29udmVydE1lYXN1cmFibGVWYWx1ZSB9IGZyb20gJy4vdW5pdHMnXG5cbi8vIFN1Z2FyIHByb3ZpZGVzIDQ2IGdyYXZpdHkgcG9pbnRzIHBlciBwb3VuZCwgcGVyIGdhbGxvbiAoUFBQRykuXG4vLyAxIHBvdW5kID0gMTYgb3ogKHdlaWdodC9tYXNzKVxuLy8gMSBnYWxsb24gPSAxMjggZmwgb3pcbi8vIHlpZWxkIGFuZCBlZmZpY2llbmN5IHNob3VsZCBiZSBwYXJzZWQgZnJvbSByZWNpcGUgYXMgcGVyY2VudCB2YWx1ZXNcbi8vIFRoZSBtYXhpbXVtIHBvdGVudGlhbCBpcyBhcHByb3hpbWF0ZWx5IDEuMDQ2IHdoaWNoIHdvdWxkIGJlIGEgcG91bmQgb2YgcHVyZSBzdWdhciBpbiBhIGdhbGxvbiBvZiB3YXRlci5cblxuY29uc3QgeWllbGRUb1BvdGVudGlhbCA9IChmZXJtZW50YWJsZVlpZWxkOiBQZXJjZW50VHlwZSk6IEdyYXZpdHlUeXBlID0+ICh7XG4gIHZhbHVlOiAoZmVybWVudGFibGVZaWVsZC52YWx1ZSAqIDAuMDEgKiA0NikgLyAxMDAwICsgMSxcbiAgdW5pdDogJ3NnJyxcbn0pXG5cbmNvbnN0IGNhbGNGZXJtZW50YWJsZUVmZmljaWVuY3kgPSAoXG4gIHR5cGU6IHN0cmluZyxcbiAgZXF1aXBtZW50RWZmaWNpZW5jeTogbnVtYmVyLFxuICBzdWdhckVmZmljaWVuY3kgPSAxXG4pID0+XG4gIHR5cGUgPT09ICdleHRyYWN0JyB8fCB0eXBlID09PSAnc3VnYXInIHx8IHR5cGUgPT09ICdkcnkgZXh0cmFjdCdcbiAgICA/IHN1Z2FyRWZmaWNpZW5jeVxuICAgIDogZXF1aXBtZW50RWZmaWNpZW5jeVxuXG5jb25zdCBjYWxjRmVybWVudGFibGVQb3RlbnRpYWwgPSAoZmVybWVudGFibGVZaWVsZDogWWllbGRUeXBlKTogR3Jhdml0eVR5cGUgPT4ge1xuICBpZiAoZmVybWVudGFibGVZaWVsZC5wb3RlbnRpYWwgIT0gbnVsbCkge1xuICAgIHJldHVybiBmZXJtZW50YWJsZVlpZWxkLnBvdGVudGlhbFxuICB9XG4gIGlmIChmZXJtZW50YWJsZVlpZWxkLmZpbmVfZ3JpbmQgIT0gbnVsbCkge1xuICAgIHJldHVybiB5aWVsZFRvUG90ZW50aWFsKGZlcm1lbnRhYmxlWWllbGQuZmluZV9ncmluZClcbiAgfVxuICBpZiAoZmVybWVudGFibGVZaWVsZC5jb2Fyc2VfZ3JpbmQgIT0gbnVsbCkge1xuICAgIHJldHVybiB5aWVsZFRvUG90ZW50aWFsKGZlcm1lbnRhYmxlWWllbGQuY29hcnNlX2dyaW5kKVxuICB9XG4gIHJldHVybiB7IHZhbHVlOiAwLCB1bml0OiAnc2cnIH1cbn1cblxuY29uc3QgY2FsY0Zlcm1lbnRhYmxlR3Jhdml0eVBvaW50cyA9IChcbiAgZmVybWVudGFibGU6IEZlcm1lbnRhYmxlQWRkaXRpb25UeXBlLFxuICBicmV3aG91c2VFZmZpY2llbmN5OiBQZXJjZW50VHlwZSA9IHsgdmFsdWU6IDEwMCwgdW5pdDogJyUnIH0sXG4gIGF0dGVudWF0aW9uOiBQZXJjZW50VHlwZSA9IHsgdmFsdWU6IDAsIHVuaXQ6ICclJyB9XG4pID0+IHtcbiAgY29uc3QgYW1vdW50VmFsdWUgPSBjb252ZXJ0TWVhc3VyYWJsZVZhbHVlKGZlcm1lbnRhYmxlLmFtb3VudCwgJ2xiJylcbiAgY29uc3QgcG90ZW50aWFsVmFsdWUgPSBjb252ZXJ0TWVhc3VyYWJsZVZhbHVlKFxuICAgIGNhbGNGZXJtZW50YWJsZVBvdGVudGlhbChmZXJtZW50YWJsZS55aWVsZCksXG4gICAgJ3NnJ1xuICApXG5cbiAgY29uc3QgZWZmaWNpZW5jeVZhbHVlOiBudW1iZXIgPVxuICAgICgxIC0gYXR0ZW51YXRpb24udmFsdWUgLyAxMDApICpcbiAgICBjYWxjRmVybWVudGFibGVFZmZpY2llbmN5KGZlcm1lbnRhYmxlLnR5cGUsIGJyZXdob3VzZUVmZmljaWVuY3kudmFsdWUgLyAxMDApXG5cbiAgcmV0dXJuIChwb3RlbnRpYWxWYWx1ZSAtIDEpICogYW1vdW50VmFsdWUgKiBlZmZpY2llbmN5VmFsdWVcbn1cblxuZXhwb3J0IGNvbnN0IGNhbGNUb3RhbEdyYXZpdHlQb2ludHMgPSAoXG4gIGZlcm1lbnRhYmxlczogQXJyYXk8RmVybWVudGFibGVBZGRpdGlvblR5cGU+LFxuICBlZmZpY2llbmN5OiBFZmZpY2llbmN5VHlwZSxcbiAgYXR0ZW51YXRpb24/OiBQZXJjZW50VHlwZVxuKSA9PlxuICBzdW0oXG4gICAgZmVybWVudGFibGVzLm1hcCgoZmVybWVudGFibGU6IEZlcm1lbnRhYmxlQWRkaXRpb25UeXBlKSA9PlxuICAgICAgY2FsY0Zlcm1lbnRhYmxlR3Jhdml0eVBvaW50cyhcbiAgICAgICAgZmVybWVudGFibGUsXG4gICAgICAgIGVmZmljaWVuY3kuYnJld2hvdXNlLFxuICAgICAgICBhdHRlbnVhdGlvblxuICAgICAgKVxuICAgIClcbiAgKVxuXG5jb25zdCBjYWxjR3Jhdml0eSA9IChiYXRjaFNpemU6IFZvbHVtZVR5cGUsIGdyYXZpdHlQb2ludHM6IG51bWJlcik6IG51bWJlciA9PiB7XG4gIHJldHVybiAxLjAgKyBncmF2aXR5UG9pbnRzIC8gY29udmVydE1lYXN1cmFibGVWYWx1ZShiYXRjaFNpemUsICdnYWwnKVxufVxuXG5jb25zdCBib2lsR3Jhdml0eSA9IChcbiAgYmF0Y2hTaXplSW5HYWxsb25zOiBudW1iZXIsXG4gIGJvaWxTaXplSW5HYWxsb25zOiBudW1iZXIsXG4gIG9nSW5TRzogbnVtYmVyXG4pOiBudW1iZXIgPT4gMSArICgob2dJblNHIC0gMSkgKiBiYXRjaFNpemVJbkdhbGxvbnMpIC8gYm9pbFNpemVJbkdhbGxvbnNcblxuZXhwb3J0IGNvbnN0IGNhbGNPcmlnaW5hbEdyYXZpdHkgPSAoXG4gIGJhdGNoU2l6ZTogVm9sdW1lVHlwZSxcbiAgZmVybWVudGFibGVzOiBBcnJheTxGZXJtZW50YWJsZUFkZGl0aW9uVHlwZT4sXG4gIGVmZmljaWVuY3k6IEVmZmljaWVuY3lUeXBlXG4pOiBHcmF2aXR5VHlwZSA9PiB7XG4gIGNvbnN0IG9nVmFsdWUgPSBjYWxjR3Jhdml0eShcbiAgICBiYXRjaFNpemUsXG4gICAgY2FsY1RvdGFsR3Jhdml0eVBvaW50cyhmZXJtZW50YWJsZXMsIGVmZmljaWVuY3kpXG4gIClcbiAgcmV0dXJuIHtcbiAgICB1bml0OiAnc2cnLFxuICAgIHZhbHVlOiBvZ1ZhbHVlLFxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBjYWxjRmluYWxHcmF2aXR5ID0gKFxuICBiYXRjaFNpemU6IFZvbHVtZVR5cGUsXG4gIGZlcm1lbnRhYmxlczogQXJyYXk8RmVybWVudGFibGVBZGRpdGlvblR5cGU+LFxuICBlZmZpY2llbmN5OiBFZmZpY2llbmN5VHlwZSxcbiAgY3VsdHVyZXM6IEFycmF5PEN1bHR1cmVBZGRpdGlvblR5cGU+XG4pOiBHcmF2aXR5VHlwZSA9PiB7XG4gIGNvbnN0IGZnVmFsdWUgPSBjYWxjR3Jhdml0eShcbiAgICBiYXRjaFNpemUsXG4gICAgY2FsY1RvdGFsR3Jhdml0eVBvaW50cyhmZXJtZW50YWJsZXMsIGVmZmljaWVuY3ksIGN1bHR1cmVzWzBdLmF0dGVudWF0aW9uKVxuICApXG4gIHJldHVybiB7XG4gICAgdW5pdDogJ3NnJyxcbiAgICB2YWx1ZTogZmdWYWx1ZSxcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgY2FsY0JvaWxHcmF2aXR5ID0gKFxuICBiYXRjaFNpemU6IFZvbHVtZVR5cGUsXG4gIGJvaWxTaXplOiBWb2x1bWVUeXBlLFxuICBPRzogR3Jhdml0eVR5cGVcbik6IEdyYXZpdHlUeXBlID0+IHtcbiAgcmV0dXJuIHtcbiAgICB1bml0OiAnc2cnLFxuICAgIHZhbHVlOiBib2lsR3Jhdml0eShcbiAgICAgIGNvbnZlcnRNZWFzdXJhYmxlVmFsdWUoYmF0Y2hTaXplLCAnZ2FsJyksXG4gICAgICBjb252ZXJ0TWVhc3VyYWJsZVZhbHVlKGJvaWxTaXplLCAnZ2FsJyksXG4gICAgICBjb252ZXJ0TWVhc3VyYWJsZVZhbHVlKE9HLCAnc2cnKVxuICAgICksXG4gIH1cbn1cbiIsImltcG9ydCB7IHN1bSB9IGZyb20gJy4vdXRpbHMnXG5pbXBvcnQgeyBjb252ZXJ0TWVhc3VyYWJsZVZhbHVlIH0gZnJvbSAnLi91bml0cydcbmltcG9ydCB7XG4gIFZvbHVtZVR5cGUsXG4gIENvbG9yVHlwZSxcbiAgRmVybWVudGFibGVBZGRpdGlvblR5cGUsXG59IGZyb20gJy4vdHlwZXMvYmVlcmpzb24nXG5cbi8vIE1DVSA9ICh3ZWlnaHQgb2YgZ3JhaW4gaW4gbGJzKSooY29sb3Igb2YgZ3JhaW4gaW4gbG92aWJvbmQpIC8gKHZvbHVtZSBpbiBnYWwpIFNSTSA9IDEuNDkyMiAqIE1DVSBeIDAuNjg1OVxuY29uc3QgbWN1MnNybSA9IChtY3U6IG51bWJlcik6IG51bWJlciA9PiAxLjQ5MjIgKiBNYXRoLnBvdyhtY3UsIDAuNjg1OSlcblxuY29uc3QgY2FsY01DVSA9IChhbW91bnQ6IG51bWJlciwgY29sb3I6IG51bWJlcik6IG51bWJlciA9PlxuICBjb2xvciA+IDAuNTYgPyBhbW91bnQgKiBjb2xvciA6IDBcblxuZXhwb3J0IGNvbnN0IGNhbGNDb2xvciA9IChcbiAgZmVybWVudGFibGVzOiBBcnJheTxGZXJtZW50YWJsZUFkZGl0aW9uVHlwZT4sXG4gIHBvc3RCb2lsVm9sdW1lOiBWb2x1bWVUeXBlXG4pOiBDb2xvclR5cGUgPT4ge1xuICBjb25zdCBmZXJtZW50YWJsZXNNQ1U6IG51bWJlcltdID0gZmVybWVudGFibGVzLm1hcChcbiAgICAoZmVybWVudGFibGU6IEZlcm1lbnRhYmxlQWRkaXRpb25UeXBlKSA9PiB7XG4gICAgICByZXR1cm4gY2FsY01DVShcbiAgICAgICAgY29udmVydE1lYXN1cmFibGVWYWx1ZShmZXJtZW50YWJsZS5hbW91bnQsICdsYicpLFxuICAgICAgICBjb252ZXJ0TWVhc3VyYWJsZVZhbHVlKGZlcm1lbnRhYmxlLmNvbG9yLCAnTG92aScpXG4gICAgICApXG4gICAgfVxuICApXG5cbiAgY29uc3QgY29sb3JTUk0gPSBtY3Uyc3JtKFxuICAgIHN1bShmZXJtZW50YWJsZXNNQ1UpIC8gY29udmVydE1lYXN1cmFibGVWYWx1ZShwb3N0Qm9pbFZvbHVtZSwgJ2dhbCcpXG4gIClcblxuICByZXR1cm4ge1xuICAgIHVuaXQ6ICdTUk0nLFxuICAgIHZhbHVlOiBjb2xvclNSTSxcbiAgfVxufVxuXG5leHBvcnQgY29uc3Qgc3JtVG9SZ2IgPSAoc3JtOiBudW1iZXIpOiB7IHI6IG51bWJlcjsgZzogbnVtYmVyOyBiOiBudW1iZXIgfSA9PiAoe1xuICByOiBNYXRoLnJvdW5kKE1hdGgubWluKDI1NSwgTWF0aC5tYXgoMCwgMjU1ICogTWF0aC5wb3coMC45NzUsIHNybSkpKSksXG4gIGc6IE1hdGgucm91bmQoTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCAyNTUgKiBNYXRoLnBvdygwLjg4LCBzcm0pKSkpLFxuICBiOiBNYXRoLnJvdW5kKE1hdGgubWluKDI1NSwgTWF0aC5tYXgoMCwgMjU1ICogTWF0aC5wb3coMC43LCBzcm0pKSkpLFxufSlcblxuZXhwb3J0IGNvbnN0IHNybVRvQ3NzID0gKHNybTogbnVtYmVyKTogc3RyaW5nID0+IHtcbiAgY29uc3QgY29sb3IgPSBzcm1Ub1JnYihzcm0pXG5cbiAgcmV0dXJuIGByZ2IoJHtjb2xvci5yfSwgJHtjb2xvci5nfSwgJHtjb2xvci5ifSlgXG59XG4iLCJpbXBvcnQgeyBzZ1RvUGxhdG8gfSBmcm9tICcuL3V0aWxzJ1xuaW1wb3J0IHsgY29udmVydE1lYXN1cmFibGVWYWx1ZSB9IGZyb20gJy4vdW5pdHMnXG5pbXBvcnQgeyBHcmF2aXR5VHlwZSwgUGVyY2VudFR5cGUgfSBmcm9tICcuL3R5cGVzL2JlZXJqc29uJ1xuXG4vLyBodHRwOi8vYnlvLmNvbS9ib2NrL2l0ZW0vNDA4LWNhbGN1bGF0aW5nLWFsY29ob2wtY29udGVudC1hdHRlbnVhdGlvbi1leHRyYWN0LWFuZC1jYWxvcmllcy1hZHZhbmNlZC1ob21lYnJld2luZ1xuLy8gaHR0cHM6Ly93d3cuYnJld2Vyc2ZyaWVuZC5jb20vMjAxMS8wNi8xNi9hbGNvaG9sLWJ5LXZvbHVtZS1jYWxjdWxhdG9yLXVwZGF0ZWQvXG4vLyBBQlcgPSAoT0cgcG9pbnRzIC0gRkcgcG9pbnRzKSAqIDAuMTA1XG4vLyBBQlYgPSAoT0cgcG9pbnRzIC0gRkcgcG9pbnRzKSAqIDAuMTMyXG5leHBvcnQgY29uc3QgZXN0QUJXID0gKG9nUHRzOiBudW1iZXIsIGZnUHRzOiBudW1iZXIpID0+IChvZ1B0cyAtIGZnUHRzKSAqIDAuMTA1XG5leHBvcnQgY29uc3QgZXN0QUJWID0gKG9nUHRzOiBudW1iZXIsIGZnUHRzOiBudW1iZXIpID0+IChvZ1B0cyAtIGZnUHRzKSAqIDAuMTMyXG5cbi8vIGh0dHA6Ly9iZWVyc21pdGguY29tL2Jsb2cvMjAxMC8wOS8wNy9hcHBhcmVudC1hbmQtcmVhbC1hdHRlbnVhdGlvbi1mb3ItYmVlci1icmV3ZXJzLXBhcnQtMS9cbmNvbnN0IGVzdEFCVnJlYWxFeHRyYWN0ID0gKG9nOiBudW1iZXIsIGZnOiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICBjb25zdCBvZSA9IHNnVG9QbGF0byhvZylcbiAgY29uc3QgYWUgPSBzZ1RvUGxhdG8oZmcpXG4gIGNvbnN0IHJlID0gMC4xODA4ICogb2UgKyAwLjgxOTIgKiBhZVxuICBjb25zdCBhYncgPSAob2UgLSByZSkgLyAoMi4wNjY1IC0gMC4wMTA2NjUgKiBvZSlcbiAgY29uc3QgYWJ2ID0gYWJ3ICogKGZnIC8gMC43OTY2MSlcblxuICByZXR1cm4gYWJ2XG59XG5cbmV4cG9ydCBjb25zdCBjYWxjQUJWID0gKG9nOiBHcmF2aXR5VHlwZSwgZmc6IEdyYXZpdHlUeXBlKTogUGVyY2VudFR5cGUgPT4ge1xuICByZXR1cm4ge1xuICAgIHZhbHVlOiBlc3RBQlZyZWFsRXh0cmFjdChcbiAgICAgIGNvbnZlcnRNZWFzdXJhYmxlVmFsdWUob2csICdzZycpLFxuICAgICAgY29udmVydE1lYXN1cmFibGVWYWx1ZShmZywgJ3NnJylcbiAgICApLFxuICAgIHVuaXQ6ICclJyxcbiAgfVxufVxuIiwiaW1wb3J0IHsgeWVhc3RDb3VudCwgeWVhc3ROZWVkZWQsIHllYXN0U3RhcnRlckdyb3cgfSBmcm9tIFwiLi9jdWx0dXJlXCI7XG5pbXBvcnQgeyBjYWxjQ2Fsb3JpZXMsIGNhcmJvbmF0aW9uIH0gZnJvbSBcIi4vY2FyYm9uYXRpb25cIjtcblxuaW1wb3J0IHtcbiAgYml0dGVybmVzc0lidVJhZ2VyLFxuICBiaXR0ZXJuZXNzSWJ1VGluc2V0aCxcbiAgYml0dGVybmVzc1JhdGlvLFxufSBmcm9tIFwiLi9ob3BzXCI7XG5cbmltcG9ydCB7IGlzTm90RW1wdHlBcnJheSwgcm91bmRNZWFzdXJhYmxlIH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuaW1wb3J0IHsgY29udmVydE1lYXN1cmFibGVWYWx1ZSB9IGZyb20gXCIuL3VuaXRzXCI7XG5pbXBvcnQgeyBjb252ZXJ0IH0gZnJvbSBcIi4vY29udmVydGVyL2NvbnZlcnRlclwiO1xuXG5pbXBvcnQge1xuICBjYWxjTWFzaEdyYWluV2VpZ2h0LFxuICByZWNhbGN1bGF0ZU1hc2hTdGVwcyxcbiAgdXBkYXRlU3BhcmdlVm9sdW1lLFxufSBmcm9tIFwiLi9tYXNoXCI7XG5pbXBvcnQgeyBjYWxjQm9pbFZvbHVtZXMsIGNhbGNNYXNoVm9sdW1lcyB9IGZyb20gXCIuL3ZvbHVtZXNcIjtcbmltcG9ydCB7IGNhbGNXYXRlckNoZW1pc3RyeSB9IGZyb20gXCIuL3dhdGVyQ2hlbVwiO1xuXG5pbXBvcnQgdHlwZSB7XG4gIFJlY2lwZVR5cGUsXG4gIE1hc2hQcm9jZWR1cmVUeXBlLFxuICBFcXVpcG1lbnRJdGVtVHlwZSxcbiAgR3Jhdml0eVR5cGUsXG4gIENvbG9yVHlwZSxcbiAgUGVyY2VudFR5cGUsXG4gIEJpdHRlcm5lc3NUeXBlLFxuICBDdWx0dXJlQWRkaXRpb25UeXBlLFxuICBWb2x1bWVUeXBlLFxuICBCb2lsUHJvY2VkdXJlVHlwZSxcbn0gZnJvbSBcIi4vdHlwZXMvYmVlcmpzb25cIjtcblxuaW1wb3J0IHtcbiAgY2FsY09yaWdpbmFsR3Jhdml0eSxcbiAgY2FsY0ZpbmFsR3Jhdml0eSxcbiAgY2FsY0JvaWxHcmF2aXR5LFxufSBmcm9tIFwiLi9ncmF2aXR5XCI7XG5pbXBvcnQgeyBzcm1Ub0Nzcywgc3JtVG9SZ2IsIGNhbGNDb2xvciB9IGZyb20gXCIuL2NvbG9yXCI7XG5pbXBvcnQgeyBjYWxjQUJWIH0gZnJvbSBcIi4vYWJ2XCI7XG5cbnR5cGUgU3RhdHMgPSB7XG4gIG9yaWdpbmFsX2dyYXZpdHk6IEdyYXZpdHlUeXBlO1xuICBmaW5hbF9ncmF2aXR5OiBHcmF2aXR5VHlwZTtcbiAgYWxjb2hvbF9ieV92b2x1bWU6IFBlcmNlbnRUeXBlO1xuICBpYnVfZXN0aW1hdGU6IEJpdHRlcm5lc3NUeXBlO1xuICBjb2xvcl9lc3RpbWF0ZTogQ29sb3JUeXBlO1xufTtcblxudHlwZSBWb2x1bWVzID0ge1xuICBzcGFyZ2Vfdm9sdW1lPzogVm9sdW1lVHlwZTtcbiAgbWFzaF92b2x1bWU/OiBWb2x1bWVUeXBlO1xuICB0b3RhbF92b2x1bWU/OiBWb2x1bWVUeXBlO1xufTtcblxuY29uc3QgY2FsY3VsYXRlUmVjaXBlQmVlckpTT04gPSAoXG4gIHJlY2lwZTogUmVjaXBlVHlwZSxcbiAgbWFzaDogTWFzaFByb2NlZHVyZVR5cGUsXG4gIGVxdWlwbWVudDoge1xuICAgIGhsdD86IEVxdWlwbWVudEl0ZW1UeXBlO1xuICAgIG1hc2hfdHVuPzogRXF1aXBtZW50SXRlbVR5cGU7XG4gICAgYnJld19rZXR0bGU/OiBFcXVpcG1lbnRJdGVtVHlwZTtcbiAgICBmZXJtZW50ZXI/OiBFcXVpcG1lbnRJdGVtVHlwZTtcbiAgfVxuKToge1xuICBzdGF0czogU3RhdHM7XG4gIG1hc2g6IE1hc2hQcm9jZWR1cmVUeXBlO1xuICBib2lsOiBCb2lsUHJvY2VkdXJlVHlwZTtcbiAgdm9sdW1lczogVm9sdW1lcztcbn0gPT4ge1xuICBjb25zdCB7IGJhdGNoX3NpemUsIGJvaWwsIGVmZmljaWVuY3ksIGluZ3JlZGllbnRzIH0gPSByZWNpcGU7XG5cbiAgY29uc3QgeyBmZXJtZW50YWJsZV9hZGRpdGlvbnMsIGhvcF9hZGRpdGlvbnMsIGN1bHR1cmVfYWRkaXRpb25zIH0gPVxuICAgIGluZ3JlZGllbnRzO1xuXG4gIGxldCBvcmlnaW5hbF9ncmF2aXR5OiBHcmF2aXR5VHlwZSA9IHtcbiAgICB1bml0OiBcInNnXCIsXG4gICAgdmFsdWU6IG51bGwsXG4gIH07XG4gIGxldCBmaW5hbF9ncmF2aXR5OiBHcmF2aXR5VHlwZSA9IHtcbiAgICB1bml0OiBcInNnXCIsXG4gICAgdmFsdWU6IG51bGwsXG4gIH07XG4gIGxldCBjb2xvcjogQ29sb3JUeXBlID0ge1xuICAgIHVuaXQ6IFwiU1JNXCIsXG4gICAgdmFsdWU6IG51bGwsXG4gIH07XG4gIGxldCBpYnU6IEJpdHRlcm5lc3NUeXBlID0ge1xuICAgIHVuaXQ6IFwiSUJVc1wiLFxuICAgIHZhbHVlOiBudWxsLFxuICB9O1xuICBsZXQgYWJ2OiBQZXJjZW50VHlwZSA9IHtcbiAgICB1bml0OiBcIiVcIixcbiAgICB2YWx1ZTogbnVsbCxcbiAgfTtcbiAgbGV0IHZvbHVtZXMgPSBudWxsO1xuICBsZXQgY2FsY3VsYXRlZE1hc2ggPSBudWxsO1xuICBsZXQgY2FsY3VsYXRlZEJvaWwgPSBudWxsO1xuXG4gIGlmIChpc05vdEVtcHR5QXJyYXkoZmVybWVudGFibGVfYWRkaXRpb25zKSkge1xuICAgIG9yaWdpbmFsX2dyYXZpdHkgPSBjYWxjT3JpZ2luYWxHcmF2aXR5KFxuICAgICAgYmF0Y2hfc2l6ZSxcbiAgICAgIGZlcm1lbnRhYmxlX2FkZGl0aW9ucyxcbiAgICAgIGVmZmljaWVuY3lcbiAgICApO1xuXG4gICAgY29uc3QgZGVmYXVsdEN1bHR1cmVBZGRpdGlvbjogQ3VsdHVyZUFkZGl0aW9uVHlwZSA9IHtcbiAgICAgIG5hbWU6IFwiRGVmYXVsdCBDdWx0dXJlXCIsXG4gICAgICB0eXBlOiBcImFsZVwiLFxuICAgICAgZm9ybTogXCJsaXF1aWRcIixcbiAgICAgIGF0dGVudWF0aW9uOiB7IHZhbHVlOiA3NSwgdW5pdDogXCIlXCIgfSxcbiAgICB9O1xuXG4gICAgZmluYWxfZ3Jhdml0eSA9IGNhbGNGaW5hbEdyYXZpdHkoXG4gICAgICBiYXRjaF9zaXplLFxuICAgICAgZmVybWVudGFibGVfYWRkaXRpb25zLFxuICAgICAgZWZmaWNpZW5jeSxcbiAgICAgIGlzTm90RW1wdHlBcnJheShjdWx0dXJlX2FkZGl0aW9ucylcbiAgICAgICAgPyBjdWx0dXJlX2FkZGl0aW9uc1xuICAgICAgICA6IFtkZWZhdWx0Q3VsdHVyZUFkZGl0aW9uXVxuICAgICk7XG5cbiAgICBhYnYgPSBjYWxjQUJWKG9yaWdpbmFsX2dyYXZpdHksIGZpbmFsX2dyYXZpdHkpO1xuXG4gICAgY29uc3QgeyBwcmVfYm9pbF9zaXplIH0gPSBjYWxjQm9pbFZvbHVtZXMoYmF0Y2hfc2l6ZSwgYm9pbCwgZXF1aXBtZW50KTtcbiAgICB2b2x1bWVzID0ge1xuICAgICAgcHJlX2JvaWxfc2l6ZSxcbiAgICB9O1xuXG4gICAgaWYgKG1hc2gpIHtcbiAgICAgIGNvbnN0IG1hc2hHcmFpbldlaWdodCA9IGNhbGNNYXNoR3JhaW5XZWlnaHQoZmVybWVudGFibGVfYWRkaXRpb25zKTtcblxuICAgICAgY29uc3QgbWFzaFN0ZXBzID0gcmVjYWxjdWxhdGVNYXNoU3RlcHMoXG4gICAgICAgIG1hc2gubWFzaF9zdGVwcyxcbiAgICAgICAgbWFzaC5ncmFpbl90ZW1wZXJhdHVyZSxcbiAgICAgICAgbWFzaEdyYWluV2VpZ2h0XG4gICAgICApO1xuXG4gICAgICBjb25zdCB7IHNwYXJnZV92b2x1bWUsIG1hc2hfdm9sdW1lLCB0b3RhbF92b2x1bWUgfSA9IGNhbGNNYXNoVm9sdW1lcyhcbiAgICAgICAgcHJlX2JvaWxfc2l6ZSxcbiAgICAgICAgbWFzaFN0ZXBzLFxuICAgICAgICBtYXNoR3JhaW5XZWlnaHQsXG4gICAgICAgIGVxdWlwbWVudFxuICAgICAgKTtcblxuICAgICAgdm9sdW1lcyA9IHtcbiAgICAgICAgLi4udm9sdW1lcyxcbiAgICAgICAgc3BhcmdlX3ZvbHVtZSxcbiAgICAgICAgbWFzaF92b2x1bWUsXG4gICAgICAgIHRvdGFsX3ZvbHVtZSxcbiAgICAgIH07XG5cbiAgICAgIGNhbGN1bGF0ZWRNYXNoID0ge1xuICAgICAgICAuLi5tYXNoLFxuICAgICAgICBtYXNoX3N0ZXBzOiB1cGRhdGVTcGFyZ2VWb2x1bWUobWFzaFN0ZXBzLCBzcGFyZ2Vfdm9sdW1lKSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKGJvaWwpIHtcbiAgICAgIGNhbGN1bGF0ZWRCb2lsID0geyAuLi5ib2lsLCBwcmVfYm9pbF9zaXplIH07XG4gICAgfVxuXG4gICAgY29sb3IgPSBjYWxjQ29sb3IoZmVybWVudGFibGVfYWRkaXRpb25zLCBiYXRjaF9zaXplKTtcblxuICAgIGlmIChpc05vdEVtcHR5QXJyYXkoaG9wX2FkZGl0aW9ucykpIHtcbiAgICAgIGNvbnN0IGJvaWxHcmF2aXR5ID0gY2FsY0JvaWxHcmF2aXR5KFxuICAgICAgICBiYXRjaF9zaXplLFxuICAgICAgICBwcmVfYm9pbF9zaXplLFxuICAgICAgICBvcmlnaW5hbF9ncmF2aXR5XG4gICAgICApO1xuICAgICAgaWJ1ID0gYml0dGVybmVzc0lidVRpbnNldGgoaG9wX2FkZGl0aW9ucywgYm9pbEdyYXZpdHksIGJhdGNoX3NpemUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3RhdHM6IHtcbiAgICAgIG9yaWdpbmFsX2dyYXZpdHk6IHJvdW5kTWVhc3VyYWJsZShvcmlnaW5hbF9ncmF2aXR5LCAzKSxcbiAgICAgIGZpbmFsX2dyYXZpdHk6IHJvdW5kTWVhc3VyYWJsZShmaW5hbF9ncmF2aXR5LCAzKSxcbiAgICAgIGFsY29ob2xfYnlfdm9sdW1lOiByb3VuZE1lYXN1cmFibGUoYWJ2LCAxKSxcbiAgICAgIGlidV9lc3RpbWF0ZTogcm91bmRNZWFzdXJhYmxlKGlidSwgMSksXG4gICAgICBjb2xvcl9lc3RpbWF0ZTogcm91bmRNZWFzdXJhYmxlKGNvbG9yLCAxKSxcbiAgICB9LFxuICAgIHZvbHVtZXMsXG4gICAgbWFzaDogY2FsY3VsYXRlZE1hc2gsXG4gICAgYm9pbDogY2FsY3VsYXRlZEJvaWwsXG4gIH07XG59O1xuXG5leHBvcnQge1xuICBjb252ZXJ0LFxuICBjb252ZXJ0TWVhc3VyYWJsZVZhbHVlLFxuICBjYWxjT3JpZ2luYWxHcmF2aXR5LFxuICBjYWxjRmluYWxHcmF2aXR5LFxuICBjYWxjQm9pbEdyYXZpdHksXG4gIGNhbGNDb2xvcixcbiAgc3JtVG9Dc3MsXG4gIHNybVRvUmdiLFxuICBjYWxjQUJWLFxuICBiaXR0ZXJuZXNzSWJ1UmFnZXIsXG4gIGJpdHRlcm5lc3NJYnVUaW5zZXRoLFxuICBiaXR0ZXJuZXNzUmF0aW8sXG4gIGNhbGN1bGF0ZVJlY2lwZUJlZXJKU09OLFxuICBjYWxjQm9pbFZvbHVtZXMsXG4gIGNhbGNNYXNoVm9sdW1lcyxcbiAgY2FsY01hc2hHcmFpbldlaWdodCxcbiAgcmVjYWxjdWxhdGVNYXNoU3RlcHMsXG4gIC8vVE9ETzogdXNlIGJlZXJKU09OXG4gIGNhbGNDYWxvcmllcyxcbiAgY2FyYm9uYXRpb24sXG4gIHllYXN0Q291bnQsXG4gIHllYXN0TmVlZGVkLFxuICB5ZWFzdFN0YXJ0ZXJHcm93LFxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=